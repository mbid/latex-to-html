<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>An interpretation of dependent type theory in a model category of locally cartesian closed categories</title>
<link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/dreampulse/computer-modern-web-font/master/fonts.css">
<link rel="stylesheet" type="text/css" href="style.css">
<link rel="stylesheet" type="text/css" href="img-math/geometry.css">
</head>

<body>
<h1>An interpretation of dependent type theory in a model category of locally cartesian closed categories</h1>
<h2>Abstract</h2>
<div class="paragraph">
Locally cartesian closed (lcc) categories are natural categorical models of extensional dependent type theory.
This paper introduces the “gros” semantics in the category of lcc categories:
Instead of constructing an interpretation in a given individual lcc category, we show that also the category of all lcc categories can be endowed with the structure of a model of dependent type theory.
The original interpretation in an individual lcc category can then be recovered by slicing.</div>
<div class="paragraph">
As in the original interpretation, we face the issue of coherence:
Categorical structure is usually preserved by functors only up to isomorphism, whereas syntactic substitution commutes strictly with all type theoretic structure.
Our solution involves a suitable presentation of the higher category of lcc categories as model category.
To that end, we construct a model category of lcc sketches, from which we obtain by the formalism of algebraically (co)fibrant objects model categories of strict lcc categories and then algebraically cofibrant strict lcc categories.
The latter is our model of dependent type theory.</div>
<h2>
1 Introduction</h2>
<div class="paragraph">
Locally cartesian closed (lcc) categories are natural categorical models of extensional dependent type theory [<a href="#lcc-categories-and-type-theory">19</a>]:
Given an lcc category <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math">, one interprets
<ul>
<li>
<div class="paragraph">
contexts <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> as objects of <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math">;</div>
</li>
<li>
<div class="paragraph">
(simultaneous) substitutions from context <img src="img-math/f8aed8afd75e1b9c109a26f594e0ca904d05d99cb6a44ec643fb9cb0b324872f.svg" class="inline-math"> to context <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> as morphisms <img src="img-math/de9a2f2814b2db9b1df6ed81eee5a329690243b2cc36fd5a4af9f1db589cc026.svg" class="inline-math"> in <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math">;</div>
</li>
<li>
<div class="paragraph">
types <img src="img-math/e49aa41f7b570bf330c2504f3a0495ffd24da704c2bf9544f8d080a67e4ef86e.svg" class="inline-math"> as morphisms <img src="img-math/2b438a62cc8b1d06634d8059970c04afe9fb1bbdf88165b167686648cf407fa1.svg" class="inline-math"> in <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> with codomain <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">; and</div>
</li>
<li>
<div class="paragraph">
terms <img src="img-math/f1cc5987e21da783d4437483cdaed7424050cc4241e9a3cff3416a9f9345659e.svg" class="inline-math"> as sections <img src="img-math/4d4950c417c3c48cf76aec0723719416d079ca932913d88a19164e14fe8ddd98.svg" class="inline-math"> to the interpretations of types.</div>
</li>
</ul>

A context extension <img src="img-math/4df0bf66ff002681fda94818225f7a028c6a92b1eb2f4a3c96f69a9c1d13eac6.svg" class="inline-math"> is interpreted as the domain of <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math">.
Application of a substitution <img src="img-math/de9a2f2814b2db9b1df6ed81eee5a329690243b2cc36fd5a4af9f1db589cc026.svg" class="inline-math"> to a type <img src="img-math/e49aa41f7b570bf330c2504f3a0495ffd24da704c2bf9544f8d080a67e4ef86e.svg" class="inline-math"> is interpreted as pullback
<div class="display-math-row">
<img src="img-math/58f8eea025eb2326d75cc79a66ca2f8ee2c78df98c8c9bad2e70027792023fe1.svg">
</div>
and similarly for terms <img src="img-math/f1cc5987e21da783d4437483cdaed7424050cc4241e9a3cff3416a9f9345659e.svg" class="inline-math">.
By definition, the pullback functors <img src="img-math/f0d35cb09001bb8612e8325d7f9b9cac86f306684e294a084eef9caa06464768.svg" class="inline-math"> in lcc categories <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> have both left and right adjoints <img src="img-math/643c2476f5ccf60074f7203cc41c732ba7dace647b8623a7a8d10fef4f3d4182.svg" class="inline-math">, and these are used for interpreting <img src="img-math/337c742e401e887830fe944bea0b8e5cf2d2e9ac328b59a996fe3cd4754b8de1.svg" class="inline-math">-types and <img src="img-math/7fa372ecb7a1bbc2306746d449194f3a155c30055721735191fdd5ef9f49bf95.svg" class="inline-math">-types.
For example, the interpretation of a pair of types <img src="img-math/e49aa41f7b570bf330c2504f3a0495ffd24da704c2bf9544f8d080a67e4ef86e.svg" class="inline-math"> and <img src="img-math/b90c52e784222ce9de2186d0aa954734da9c25452559533484bcc6ea5f6d26fb.svg" class="inline-math"> is a composable pair of morphisms <img src="img-math/c4a7a5d840fd6cc328dd16371a43946896c7cd0197159f0d8056ee659deec989.svg" class="inline-math">, and then the dependent product type <img src="img-math/28a150413ceaf99a8647a351ed8a45ee0329d828c8d6d1ce07a390f32632027c.svg" class="inline-math"> is interpreted as <img src="img-math/aeef8b00b518d4c5c6d0df729c66c486d3338ffb20701095b5743f44f13cdeeb.svg" class="inline-math">, which is an object of <img src="img-math/1838c8c05a2d820c55b912a78b65225dc735ee1ad660e2adfe5b67072ece94a2.svg" class="inline-math">, i.e. a morphism into <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">.</div>
<div class="paragraph">
However, there is a slight mismatch:
Syntactic substitution is functorial and commutes strictly with type formers, whereas pullback is generally only pseudo-functorial and hence preserves universal objects only up to isomorphism.
Here functoriality of substitution means that if one has a sequence <img src="img-math/9788f6d23634ca6a9e8cb72c597dfdb341b48a396e10520c750aa7f880a20b4f.svg" class="inline-math"> of substitutions, then we have equalities <img src="img-math/d2439104d81acf1831ef992d1e6f1c22b72261e0ec274ec03b822d17903f8216.svg" class="inline-math"> and <img src="img-math/d17271263fcaff43699efb0717b4a9263b53c6e81e7c894f8dc99a45f795adc3.svg" class="inline-math">, i.e. substituting in succession yields the same result as substituting with the composition.
For pullback functors, however, we are only guaranteed a natural isomorphism <img src="img-math/dab195ffcf73a7ca6f0fc0eda0781506efebe01ba0f83d0e75fb90a54cae01d0.svg" class="inline-math">.
Similarly, in type theory we have <img src="img-math/24f7b1233ed7657b8476ef96594cfae6f75233bb21f099be4a7a727ec88749fe.svg" class="inline-math"> (where <img src="img-math/385519e11a75952240783465d48c5b2524e3ee2fdd8bb2ebb105da06d540ef52.svg" class="inline-math"> denotes the weakening of <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> along <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math">), whereas for pullback functors there merely exist isomorphisms <img src="img-math/e764c32c7b7cd46fa16fd8909231f1836e9faedcdb3c6ce3901fb98f615b44f1.svg" class="inline-math">.</div>
<div class="paragraph">
In response to these problems, several notions of models with strict pullback operations were introduced, e.g. categories with families (cwfs) [<a href="#internal-type-theory">11</a>], and coherence techniques were developed to “strictify” weak models such as lcc categories to obtain models with well-behaved substitution [<a href="#substitution-up-to-isomorphism">9</a>, <a href="#on-the-interpretation-of-type-theory-in-lcc-categories">13</a>, <a href="#the-local-universes-model">15</a>].
Thus to interpret dependent type theory in some lcc category <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math">, one first constructs an equivalence <img src="img-math/bfe98e2cde1bae9924fbd676345927da1b95ddc7e51f0af35e3d7921dfef9de3.svg" class="inline-math"> such that <img src="img-math/99f714c37166c4e83becdafeb969f7982dc31c7cffbd5777771668fdac83ffe3.svg" class="inline-math"> can be endowed with the structure of a strict model of type theory (say, cwf structure), and then interprets type theory in <img src="img-math/99f714c37166c4e83becdafeb969f7982dc31c7cffbd5777771668fdac83ffe3.svg" class="inline-math">.</div>
<div class="paragraph">
In this paper we construct cwf structure on the category of all lcc categories instead of cwf structure on some specific lcc category.
First note that the classical interpretation of type theory in an lcc category <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> is essentially an interpretation in the slice categories of <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math">:
<ul>
<li>
<div class="paragraph">
Objects <img src="img-math/392fc34f8976d8d0b9fd961561e4f591f8be3c8c09982713f958337aa00b011a.svg" class="inline-math"> can be identified with slice categories <img src="img-math/1838c8c05a2d820c55b912a78b65225dc735ee1ad660e2adfe5b67072ece94a2.svg" class="inline-math">.</div>
</li>
<li>
<div class="paragraph">
Morphisms <img src="img-math/de9a2f2814b2db9b1df6ed81eee5a329690243b2cc36fd5a4af9f1db589cc026.svg" class="inline-math"> can be identified with lcc functors <img src="img-math/f0d35cb09001bb8612e8325d7f9b9cac86f306684e294a084eef9caa06464768.svg" class="inline-math"> which commute with the pullback functors <img src="img-math/f4c7215038ab5af380e5b771cfa757d21eae0266a449f1aebb93ad4f72361f46.svg" class="inline-math"> and <img src="img-math/d1aa755536bbefd96cba9b30fb812eb1721d5e8cd944e1b346e7af038011c33d.svg" class="inline-math">.</div>
</li>
<li>
<div class="paragraph">
Morphisms <img src="img-math/2b438a62cc8b1d06634d8059970c04afe9fb1bbdf88165b167686648cf407fa1.svg" class="inline-math"> with codomain <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> can be identified with the objects of the slice categories <img src="img-math/1838c8c05a2d820c55b912a78b65225dc735ee1ad660e2adfe5b67072ece94a2.svg" class="inline-math">.</div>
</li>
<li>
<div class="paragraph">
Sections <img src="img-math/75db01635c5fa356757f9f3288554ef0169a2a5a6f418e0ba9a6935e005578e9.svg" class="inline-math"> can be identified with morphisms <img src="img-math/14101ef7764a8b5039b180056d12a1b30e03d0430590e0ab72b78d7b04df9d40.svg" class="inline-math"> with <img src="img-math/ebab965f0aed80df00637c030f01651aa104c881b8bcb551a1325bc1234d9373.svg" class="inline-math"> the terminal object in the slice category <img src="img-math/1838c8c05a2d820c55b912a78b65225dc735ee1ad660e2adfe5b67072ece94a2.svg" class="inline-math">.</div>
</li>
</ul>

Removing all reference to the base category <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math">, we may now attempt to interpret
<ul>
<li>
<div class="paragraph">
each context <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> as a separate lcc category;</div>
</li>
<li>
<div class="paragraph">
a substitution from <img src="img-math/f8aed8afd75e1b9c109a26f594e0ca904d05d99cb6a44ec643fb9cb0b324872f.svg" class="inline-math"> to <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> as an lcc functor <img src="img-math/0fa07ed6761ae79c704d31d6616ff4f4a6e898576379640a07b44f949bb28090.svg" class="inline-math">;</div>
</li>
<li>
<div class="paragraph">
types <img src="img-math/e49aa41f7b570bf330c2504f3a0495ffd24da704c2bf9544f8d080a67e4ef86e.svg" class="inline-math"> as objects <img src="img-math/8a669d34a775ef95c4805ac349ed8b5c127ffbe5483582e1df9450a46f2b300c.svg" class="inline-math">; and</div>
</li>
<li>
<div class="paragraph">
terms <img src="img-math/f1cc5987e21da783d4437483cdaed7424050cc4241e9a3cff3416a9f9345659e.svg" class="inline-math"> as morphisms <img src="img-math/289f0b7f95ecbadcc92868edf560dbe557f80dda0d0bcb2ff3a3688ec6296309.svg" class="inline-math"> from a terminal object <img src="img-math/92757f9a5d802657ae1c7af9ce6ad10cb8197193988a2ae4a38cf86154eb1414.svg" class="inline-math"> to <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math">.</div>
</li>
</ul>

In the original interpretation, substitution in types and terms is defined by the pullback functor <img src="img-math/f0d35cb09001bb8612e8325d7f9b9cac86f306684e294a084eef9caa06464768.svg" class="inline-math"> along a morphism <img src="img-math/de9a2f2814b2db9b1df6ed81eee5a329690243b2cc36fd5a4af9f1db589cc026.svg" class="inline-math">.
In our new interpretation, <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> is already an lcc functor, which we simply apply to objects and morphisms of lcc categories.</div>
<div class="paragraph">
The idea that different contexts should be understood as different categories is by no means novel, and indeed widespread among researchers of geometric logic; see e.g. [<a href="#locales-and-toposes-as-spaces">20</a>, section 4.5].
Not surprisingly, some of the ideas in this paper have independently already been explored, in more explicit form, in [<a href="#au-sketches">21</a>] for geometric logic.
To my knowledge, however, an interpretation of type theory along those lines, especially one with strict substitution, has never been spelled out explicitly, and the present paper is an attempt at filling this gap.</div>
<div class="paragraph">
Like Seely's original interpretation, the naive interpretation in the category of lcc categories outlined above suffers from coherence issues:
Lcc functors preserve lcc structure up to isomorphism, but not necessarily up to equality, and the latter would be required for a model of type theory.</div>
<div class="paragraph">
Even worse, our interpretation of contexts as lcc categories does not admit well-behaved context extensions.
Recall that for a context <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> and a type <img src="img-math/e49aa41f7b570bf330c2504f3a0495ffd24da704c2bf9544f8d080a67e4ef86e.svg" class="inline-math"> in a cwf, a context extension consists of a context morphism <img src="img-math/5175aadf4ad18794b739adcd2d15cde5b643b3af4776a66d0c285d818e96fefc.svg" class="inline-math"> and a term <img src="img-math/eb85f08c73743ca79a2627ec5ac51a34bd84cc00a97a28c9677ade4386dcd6ae.svg" class="inline-math"> such that for every morphism <img src="img-math/de9a2f2814b2db9b1df6ed81eee5a329690243b2cc36fd5a4af9f1db589cc026.svg" class="inline-math"> and term <img src="img-math/d3c50893c80f599b2303a5d24c08a643b27e91d54836a42c0ffd928a37d10fb6.svg" class="inline-math"> there is a unique morphism <img src="img-math/ae8922d6ad132e4cd3a74f4dde227c7be57ec322ddb804293e543ef249543d30.svg" class="inline-math"> over <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> such that <img src="img-math/8f6ecece76449b89879c07a1c5692d001009ba71256361dbd09ace6869244662.svg" class="inline-math">.
In our case a context morphism is an lcc functor in the opposite direction.
Thus a context extension of an lcc category <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> by <img src="img-math/8a669d34a775ef95c4805ac349ed8b5c127ffbe5483582e1df9450a46f2b300c.svg" class="inline-math"> would consist of an lcc functor <img src="img-math/c699e04d94d188d5ab8e0cfd575601675a73131d25867dc6a183cef918fbe2c4.svg" class="inline-math"> and a morphism <img src="img-math/6e97819c238d3a47d37a01ec41f1b9e589999649531d36d84aaa3881ad0d99dd.svg" class="inline-math"> in <img src="img-math/4df0bf66ff002681fda94818225f7a028c6a92b1eb2f4a3c96f69a9c1d13eac6.svg" class="inline-math">, and <img src="img-math/9a291ec28d08c5aad6a93a2736205cf456bcf6ab6eecce02a937b5f01b89c0ef.svg" class="inline-math"> would have to be suitably initial.
At first sight it might seem that the slice category <img src="img-math/5a78e213789e0e085c7ab55356df37564520101f176f22c53d893e4851d04a7d.svg" class="inline-math"> is a good candidate:
Pullback along the unique map <img src="img-math/dbedc99916c9cb6dcb9d2d5ff19a4dc9dfa42624cb24e6f6b5ab03a769365ced.svg" class="inline-math"> defines an lcc functor <img src="img-math/679d0a59abe26d6bd9f8aa903cfb41a878f018e95475fe490ed2d922f10d3855.svg" class="inline-math">.
The terminal object of <img src="img-math/5a78e213789e0e085c7ab55356df37564520101f176f22c53d893e4851d04a7d.svg" class="inline-math"> is the identity on <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math">, and applying <img src="img-math/7877f9d9dd6000dfe0afb4b654a9d8e090f96f0785f0b1bf8fa453a1ac385d51.svg" class="inline-math"> to <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math"> itself yields the first projection <img src="img-math/767b0c73cf8a0934a595e3ab8b40136e12c70d3da4f15375731ebff24be4b34b.svg" class="inline-math">.
Thus the diagonal <img src="img-math/11ef9d47b6412d0824aaa8758e930440a82db8b951d25cf024377f0ac1f5c2ad.svg" class="inline-math"> is a term <img src="img-math/59d5684fec4563620136c2a39c1316ff44db6e8d1d25af60d2bf2c62efb2cc9f.svg" class="inline-math">.
The problem is that, while this data is indeed universal, it is only so in the bicategorical sense (see Lemma <a href="#lem-slice-is-weak-ext">29</a>):
Given an lcc functor <img src="img-math/0fa07ed6761ae79c704d31d6616ff4f4a6e898576379640a07b44f949bb28090.svg" class="inline-math"> and term <img src="img-math/6d6c32daf836b9a973b6fce0f4045dda54aeb56bdc0b0b7d76d3da4531da33dc.svg" class="inline-math">, we obtain an lcc functor
<div class="display-math-row">
<img src="img-math/cf8b0a70a7fbae8e3c214e2d2e3850ac832270f2ff7deda757cf012aeb14e772.svg">
</div>
however, <img src="img-math/ff4484cceda206d462ec32f8e42b1e8b66d239354cc1ca187bd347341b63d81f.svg" class="inline-math"> commutes with <img src="img-math/7877f9d9dd6000dfe0afb4b654a9d8e090f96f0785f0b1bf8fa453a1ac385d51.svg" class="inline-math"> and <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> only up to natural isomorphism, the equation <img src="img-math/7597741b783bc535e32a6f17e558b7ab59053c4b34383c549023890ece22e665.svg" class="inline-math"> holds only up to this natural isomorphism, and <img src="img-math/ff4484cceda206d462ec32f8e42b1e8b66d239354cc1ca187bd347341b63d81f.svg" class="inline-math"> is unique only up to unique isomorphism.</div>
<div class="paragraph">
The issue with context extensions can be understood from the perspective of comprehension categories, an alternative notion of model of type theory, as follows.
Our cwf is constructed on the opposite of <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math">, the category of lcc categories and lcc functors.
The corresponding comprehension category should thus consist of a Grothendieck fibration <img src="img-math/d852ba50166d6eacc90d9bab8a6e1151701cbd212d2a1adf1060eb400cefed67.svg" class="inline-math"> and a functor <img src="img-math/49fcd0ebbb4628d91890c1e29a1c99efb560dc7206374dfd14807d4d292a2c40.svg" class="inline-math"> to the arrow category of <img src="img-math/508d128ab3730cde3469ca2282cd2d38f826d38d8657862bf4efcde0651d8366.svg" class="inline-math"> such that
<div class="display-math-row">
<img src="img-math/75697e7618d27908bdbb67d16bd82f1398827c33099a8e2ccf15ed92c06c05dd.svg">
</div>
commutes and <img src="img-math/bd7ece6de342bc99d587f7a7839045bd0757b655f18b641b958a0956ea2f0d2e.svg" class="inline-math"> is a pullback square for each cartesian morphism <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> in <img src="img-math/8f4b3f443bce8ebcc9afb708b1d7046ff9c92560b5161bb9ad763af9610c54bc.svg" class="inline-math">.
The data of a Grothendieck fibration <img src="img-math/a7042afe26daa1d7a79f7691c407a1dce105303d74fd9172d1a5ae31eccc5913.svg" class="inline-math"> as above is equivalent to a (covariant) functor <img src="img-math/0f926e7340d6061236f84e32f3d4dd64c4927b28a3966772e25b0403c48d2b74.svg" class="inline-math"> via the Grothendieck construction, and here we simply take the forgetful functor.
Thus the objects of <img src="img-math/8f4b3f443bce8ebcc9afb708b1d7046ff9c92560b5161bb9ad763af9610c54bc.svg" class="inline-math"> are pairs <img src="img-math/33c94b48a7b73e5b69cbdd173c7cfa12c3ba254404c29b102629272bd7c72196.svg" class="inline-math"> such that <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> is an lcc category and <img src="img-math/f2cc6847f5525f0bfa640930e512dbbb215fd8b197a3198a7d0063488e359888.svg" class="inline-math">, and a morphism <img src="img-math/3cb3a78f953fd2da896deaa2d94c5e3e9bdd8f82fe07cd058e2b29e41b5046fe.svg" class="inline-math"> in <img src="img-math/8f4b3f443bce8ebcc9afb708b1d7046ff9c92560b5161bb9ad763af9610c54bc.svg" class="inline-math"> is a pair <img src="img-math/eb9c565270e107fd9b4a46c0c84a2c53d8cd1c2349605c9cc6751fa5a2e93424.svg" class="inline-math"> of lcc functor <img src="img-math/de9a2f2814b2db9b1df6ed81eee5a329690243b2cc36fd5a4af9f1db589cc026.svg" class="inline-math"> and morphism <img src="img-math/1a9dff30ba488000e20c1520085cf6374aaaf58803398b482f97382f2746da93.svg" class="inline-math"> in <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">.</div>
<div class="paragraph">
The functor <img src="img-math/ba62bcba886f6d1289360be2b1af2e14bba60d395413b2be7d709e106b1d4077.svg" class="inline-math"> should assign to objects <img src="img-math/33c94b48a7b73e5b69cbdd173c7cfa12c3ba254404c29b102629272bd7c72196.svg" class="inline-math"> of <img src="img-math/8f4b3f443bce8ebcc9afb708b1d7046ff9c92560b5161bb9ad763af9610c54bc.svg" class="inline-math"> the projection of the corresponding context extension, hence we define <img src="img-math/e6fa094fa44fd36e1c6ca78f1ddcf7b17772d66dfacc192e0139d50e0848697f.svg" class="inline-math"> as the pullback functor to the slice category.
The cartesian morphisms of <img src="img-math/8f4b3f443bce8ebcc9afb708b1d7046ff9c92560b5161bb9ad763af9610c54bc.svg" class="inline-math"> are those with invertible vertical components <img src="img-math/68cecfab51e015186218ea1690238ea2186fe0524da426091cd6fd1937968003.svg" class="inline-math">, so they are given up to isomorphism by pairs of the form <img src="img-math/45efe1de80d044fa7200622386be9b827596c0c320b254ad7e676265b9ef21a1.svg" class="inline-math">.
The images of such morphisms under <img src="img-math/ba62bcba886f6d1289360be2b1af2e14bba60d395413b2be7d709e106b1d4077.svg" class="inline-math"> are squares
<div id="eq-homotopy-pushout-comprehension" class="display-math-row">
<span>(1)</span>
<img src="img-math/ec603f85afe1ca5a5632dbe301f8606b5d08c2b3d39fc5598f00a9bc14a55854.svg">
<span>(1)</span>
</div>
in <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math">.
For <img src="img-math/15b53ac579bd27a8f49dd8cad45d3c719a99d94cf70a9eae9134e3be9c3de459.svg" class="inline-math"> to be a comprehension category, they would have to be pushout squares, but in fact they are bipushout squares:
They satisfy the universal property of pushouts up to unique isomorphism, but not up to equality.
If <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> does not preserve pullback squares up to strict equality, then the square <a href="#eq-homotopy-pushout-comprehension">(1)</a> commutes only up to isomorphism, not equality.
Thus <img src="img-math/ba62bcba886f6d1289360be2b1af2e14bba60d395413b2be7d709e106b1d4077.svg" class="inline-math"> is not even a functor but a bifunctor.</div>
<div class="paragraph">
Usually when one considers coherence problems for type theory, the problem lies in the fibration <img src="img-math/a7042afe26daa1d7a79f7691c407a1dce105303d74fd9172d1a5ae31eccc5913.svg" class="inline-math">, which is often not strict, and it suffices to change the total category <img src="img-math/8f4b3f443bce8ebcc9afb708b1d7046ff9c92560b5161bb9ad763af9610c54bc.svg" class="inline-math"> while leaving the base unaltered.
Our fibration <img src="img-math/a7042afe26daa1d7a79f7691c407a1dce105303d74fd9172d1a5ae31eccc5913.svg" class="inline-math"> is already strict, but it does not support substitution stable type constructors.
Here the main problem is the base category, however:
The required pullback diagrams exist only in the bicategorical sense.
Thus the usual constructions [<a href="#on-the-interpretation-of-type-theory-in-lcc-categories">13</a>, <a href="#the-local-universes-model">15</a>] are not applicable.</div>
<div class="paragraph">
The goal must thus be to find a category that is (bi)equivalent to <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math"> in which we can replace the bipushout squares <a href="#eq-homotopy-pushout-comprehension">(1)</a> by 1-categorical pushouts.
Our tool of choice to that end will be <em>model category theory</em> (see e.g. [<a href="#hirschhorn">12</a>]).
Model categories are presentations of higher categories as ordinary 1-categories with additional structure.
Crucially, model categories allow the computation of higher (co)limits as ordinary 1-categorical (co)limits under suitable hypotheses.
The underlying 1-category of the model category presenting a higher category is not unique, and some presentations are more suitable for our purposes than others.
We explore three Quillen equivalent model categories, all of which encode the same higher category of lcc categories, and show that the third one indeed admits the structure of a model of dependent type theory.</div>
<div class="paragraph">
Because of its central role in the paper, the reader is thus expected to be familiar with some notions of model category theory.
We make extensive use of the notion of algebraically (co)fibrant object in a model category [<a href="#algebraic-models">18</a>, <a href="#coalgebraic-models">7</a>], but the relevant results are explained where necessary and can be taken as black boxes for the purpose of this paper.
Because of the condition on enrichment in Theorem <a href="#th-coalgebraic-model-category">21</a>, all model categories considered here are proved to be model <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-categories, that is, model categories enriched over the category of groupoids with their canonical model structure.
See [<a href="#enriched-model-cats">3</a>] for background on enriched model category theory, [<a href="#groupoid-model-cat">4</a>] for the canonical model category of groupoids, and [<a href="#homotopy-theoretic-aspects">14</a>] for the closely related model <img src="img-math/b5e631e2fb35721b83388080c16d0f4e8d5cb54148949aad218de1a98d42980c.svg" class="inline-math">-categories.
While it is more common to work with the more general simplicially enriched model categories, the fact that the higher category of lcc categories is 2-truncated affords us to work with simpler groupoid enrichments instead.</div>
<div class="paragraph">
In Section <a href="#sec-lcc-sketches">2</a> we construct the model category <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math"> of <em>lcc sketches</em>, a left Bousfield localization of an instance of Isaev's model category structure on marked objects [<a href="#marked-objects">2</a>].
Lcc sketches are to lcc categories as finite limit sketches are to finite limit categories.
Thus lcc sketches are categories with some diagrams marked as supposed to correspond to a universal object of lcc categories, but marked diagrams do not have to actually satisfy the universal property.
The model category structure is set up such that every lcc sketch generates an lcc category via fibrant replacement, and lcc sketches are equivalent if and only if they generate equivalent lcc categories.</div>
<div class="paragraph">
In Section <a href="#sec-slcc">3</a> we define the model category <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math"> of <em>strict lcc categories</em>.
Strict lcc categories are the algebraically fibrant objects of <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math">, that is, they are objects of <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math"> <em>equipped</em> with canonical lifts against trivial cofibrations witnessing their fibrancy in <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math">.
Such canonical lifts correspond to canonical choices of universal objects in lcc categories, and the morphisms in <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math"> preserve these canonical choices not only up to isomorphism but up to equality.</div>
<div class="paragraph">
Section <a href="#sec-algebraically-cofibrant">4</a> finally establishes the model of type theory in the opposite of <img src="img-math/2ac8344303de787b8542657f554fbe56b768f0f1af194027b74de33c451da778.svg" class="inline-math">, the model category of <em>algebraically cofibrant objects</em> in <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math">.
The objects of <img src="img-math/2ac8344303de787b8542657f554fbe56b768f0f1af194027b74de33c451da778.svg" class="inline-math"> are strict lcc categories <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> such that every (possibly non-strict) lcc functor <img src="img-math/827656499700165976bb3793cc8af463b6b15bf9276ba936ebf629ade2d33f7a.svg" class="inline-math"> has a canonical strict isomorph.
This additional structure is crucial to reconcile the context extension operation, which is given by freely adjoining a morphism to a strict lcc category, with taking slice categories.</div>
<div class="paragraph">
In Section <a href="#sec-applications">5</a> we show that the cwf structure on <img src="img-math/d444f5df7be28acc38cf177d49e10a03535e5cd7b114ae6752ee922786f39874.svg" class="inline-math"> can be used to rectify Seely's original interpretation in a given lcc category <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math">.
This is done by choosing an equivalent lcc category <img src="img-math/6dc2e9710116849806a90e89e825d99bc29dcf0ed3ef461f8ad6dc68868c6960.svg" class="inline-math"> with <img src="img-math/ff2f5339b59a0bf5c2548a9fcbc6a9cbc24560b8aa58c0b10312fd0f8c73b4ca.svg" class="inline-math">, and then <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> inherits cwf structure from the core of the slice cwf <img src="img-math/17202b0f4b2238c066aca5e76132fdffabedb2425d602bb261c3ab2b459c60b1.svg" class="inline-math">.</div>
<div class="paragraph">
<strong>Acknowledgements.</strong>
This paper benefited significantly from input by several members of the research community.
I would like to thank the organizers of the TYPES workshop 2019 and the HoTT conference 2019 for giving me the opportunity to present preliminary versions of the material in this paper.
Conversations with Emily Riehl, Karol Szumiło and David White made me aware that the constructions in this paper can be phrased in terms of model category theory.
Daniel Gratzer pointed out to me the biuniversal property of slice categories.
Valery Isaev explained to me some aspects of the model category structure on marked objects.
I would like to thank my advisor Bas Spitters for his advice on this paper, which is part of my PhD research.</div>
<div class="paragraph">
This work was supported by the Air Force Office and Scientific Research project “Homotopy Type Theory and Probabilistic Computation”, grant number 12595060.</div>
<h2 id="sec-lcc-sketches">
2 Lcc sketches</h2>
<div class="paragraph">
This section is concerned with the model category <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math"> of lcc sketches.
<img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math"> is constructed as the left Bousfield localization of a model category of lcc-marked objects, an instance of Isaev's model category structure on marked objects.</div>
<div class="theorem-like">
<div class="paragraph">
<h4>Definition 1 <span class="theorem-note">([<a href="#marked-objects">2</a>] Definition 2.1)</span>.
</h4>
Let <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> be a category and let <img src="img-math/00daecbc3418e307668947780e09637a7ad0d5c3d9ee27115bad8c7a21147571.svg" class="inline-math"> be a diagram in <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math">.
An <em>(<img src="img-math/0d2692f665493315685e15f8e17aba4fde259d2cf3fc4d6b7bef95077b05a6cf.svg" class="inline-math">-)marked object</em> is given by an object <img src="img-math/9bd95d1e476769a7b26e69e93aed5cd3b77188955417daed853a4fd425344457.svg" class="inline-math"> in <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> and a subfunctor <img src="img-math/2f16a014455c64ce00909fcb7ccc13d2d2d30c5b5b9bc4d117229f29fdc327b0.svg" class="inline-math"> of <img src="img-math/a2c14b4b5272e76249e7491254443c0193e7973647cf0a7d99607aad5b3d0b08.svg" class="inline-math">.
A map of the form <img src="img-math/c12636ece044b68fe520baa12027b744a6a23575a74fcdfe49a0a2d01e3bddf5.svg" class="inline-math"> is <em>marked</em> if <img src="img-math/cf59f58d69463d70256136568bb48f2ee6c4d9a9fd2e51c86f96143f2a39e5c5.svg" class="inline-math">.</div>
<div class="paragraph">
A morphism of <img src="img-math/0d2692f665493315685e15f8e17aba4fde259d2cf3fc4d6b7bef95077b05a6cf.svg" class="inline-math">-marked objects is a marking-preserving morphism of underlying objects in <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math">, i.e. a morphism <img src="img-math/41bf3a94be0327c5380d2c936841f065d927af19962bfcc15813c916a987f612.svg" class="inline-math"> such that the image of <img src="img-math/2f16a014455c64ce00909fcb7ccc13d2d2d30c5b5b9bc4d117229f29fdc327b0.svg" class="inline-math"> under postcomposition by <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> is contained in <img src="img-math/652e71cb3aa604ff446717e3ae93d345ae38c6861166c1d6cb7001830aa47740.svg" class="inline-math">.
The category of <img src="img-math/0d2692f665493315685e15f8e17aba4fde259d2cf3fc4d6b7bef95077b05a6cf.svg" class="inline-math">-marked objects is denoted by <img src="img-math/3b2476f11c22f16a264d9b2f8c1fab9d822aa10a8ff36f5ffd619a1d16fd778d.svg" class="inline-math">.</div>
</div>
<div class="paragraph">
The forgetful functor <img src="img-math/f0efb0ed2d810041e466808bc04d54c47a701b1acba2856ed60c1f85d6499d04.svg" class="inline-math"> has a left and right adjoint:
Its left adjoint <img src="img-math/e7fe20cc6770f264aff704b5f223b8ce28c04d48d3c62908296b4d0056669f11.svg" class="inline-math"> is given by equipping an object <img src="img-math/9bd95d1e476769a7b26e69e93aed5cd3b77188955417daed853a4fd425344457.svg" class="inline-math"> of <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> with the minimal marking <img src="img-math/53d6ef4c2893be7812b9134fd4fc0b785e676a044cb5a4430569c6b4827ddbd2.svg" class="inline-math">, while the right adjoint <img src="img-math/c42abfafe8feac5ce5d9ce209017b7e5a721355184a53521e67c094b5dfea32a.svg" class="inline-math"> equips objects with their maximal marking <img src="img-math/bf80c40bad2b05cdc811caab81d96184c9695984946b663697b2482906dbe32b.svg" class="inline-math">.</div>
<div class="paragraph">
In our application, <img src="img-math/d9cf55b35bd8152811388d3312416187eb7e4dc967e003e4e4a43155b983afc8.svg" class="inline-math"> is the category of (sufficiently small) categories, and <img src="img-math/00ca383ddce899e451c0c0999fd4fbbec44ac592144c5708e2e87556a549d3b3.svg" class="inline-math"> contains diagrams corresponding to the shapes (e.g. a squares for pullbacks) of lcc structure.</div>
<div class="theorem-like">
<div class="paragraph">
<h4>Definition 2.
</h4>
The subcategory <img src="img-math/410bea5a5693cde02ac837f262881fb7a551e374f7a066c454cb66dcaee3f50a.svg" class="inline-math"> of <em>lcc shapes</em> is given as follows:
Its objects are the three diagrams <img src="img-math/a39ee3684ca21af3422e8b96f6e31f4b81e91813dad0ef0b093936bf0e96f4e3.svg" class="inline-math">, <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math"> and <img src="img-math/44d3bdfde8e2e7565e085fc8b3675a81ced448d49fb026f9c8b23878f8d3d3c2.svg" class="inline-math">.
<img src="img-math/a39ee3684ca21af3422e8b96f6e31f4b81e91813dad0ef0b093936bf0e96f4e3.svg" class="inline-math"> is given by the category with a single object <img src="img-math/31da59226089717b0fd7e061b3dba13e20f69078642fd752d80ecaa39fa58b4d.svg" class="inline-math"> and no nontrivial morphisms; it corresponds to terminal objects.
<img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math"> is the free-standing non-commutative square
<div class="display-math-row">
<img src="img-math/ef26961c6052070fe557532fda545661369b9940eef2ae2582c29578d5a8b8c8.svg">
</div>
and corresponds to pullback squares.
<img src="img-math/44d3bdfde8e2e7565e085fc8b3675a81ced448d49fb026f9c8b23878f8d3d3c2.svg" class="inline-math"> is the free-standing non-commutative diagram
<div class="display-math-row">
<img src="img-math/677b4790c0751bf028bb0f244396b6c2150773b9784bf7054eebbb226ffaa37e.svg">
</div>
and corresponds to dependent products <img src="img-math/ecbefafbf74eadd16db4240dde00b1360ce2a3b2605a996c3e5f638d750bd208.svg" class="inline-math"> and their evaluation maps <img src="img-math/bfa094e4585d6959a38d290d181cd9eab7d8ace41feb7315588e146eb0d33ca3.svg" class="inline-math">.
The only nontrivial functor in <img src="img-math/9d23b29aa7781c7261e1167a03ea1233a183113ec08595524faf01809c0a2e2b.svg" class="inline-math"> is the inclusion of <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math"> into <img src="img-math/44d3bdfde8e2e7565e085fc8b3675a81ced448d49fb026f9c8b23878f8d3d3c2.svg" class="inline-math"> as indicated by the variable names.
It corresponds to the requirement that the domain of the evaluation map of dependent products must be a suitable pullback.</div>
<div class="paragraph">
We obtain the category <img src="img-math/be806c23dfbaea2cf10fbb2c5eda8b159a0a189f140a7f14dc59999a07c0d318.svg" class="inline-math"> of <em>lcc-marked categories</em>.</div>
</div>
<div class="paragraph">
Now suppose that <img src="img-math/5dc07c6c056d811a34d8535a7d5a4b1afcd0f08b7921ad01173e466d7b13df11.svg" class="inline-math"> is a model category.
Let <img src="img-math/d4a0e12bb9ce2e698c62057c9f3857c169e8c72f1821892e364594133c7cbb3f.svg" class="inline-math"> be the quotient functor to the homotopy category.
A marking <img src="img-math/16ac159fbd67e909607f46e8022cdb2a38eaf4543ece7c7db9693a142611933d.svg" class="inline-math"> of some <img src="img-math/a4eee4606473434bab4faf66f8045f1d26644924ec6ab46f968beca1a1836a3c.svg" class="inline-math"> induces a canonical marking <img src="img-math/57254b20ad2c0d9e5501c120d519b418aacf6c865ac06de65b5448a5ef5dc32a.svg" class="inline-math"> on <img src="img-math/6f5382fed846aed8a8d2ab045efcc2ccce4f528fdeb161244db4870108bcf3c2.svg" class="inline-math"> by taking <img src="img-math/514ce452980404525d98d11da214db6e79844f351524e006d7dd30a02a4821f9.svg" class="inline-math"> to be the image of <img src="img-math/2f16a014455c64ce00909fcb7ccc13d2d2d30c5b5b9bc4d117229f29fdc327b0.svg" class="inline-math"> under <img src="img-math/09f9a8c0c578a7b8808bd816976adf3b5d50ddc0f0dc4269ec58197914b71b63.svg" class="inline-math">.
Thus a morphism <img src="img-math/327b6f950c13f07cf060fe110d0b447ef0c0ad1bd8c6359fb0282574fe86d8f9.svg" class="inline-math"> in <img src="img-math/1255e7b637af7084ce4bd6b81d35484e33db6d4ef03e071020d526742033cbde.svg" class="inline-math"> is marked if and only if it has a preimage under <img src="img-math/09f9a8c0c578a7b8808bd816976adf3b5d50ddc0f0dc4269ec58197914b71b63.svg" class="inline-math"> which is marked.</div>
<div id="th-marked-model-category" class="theorem-like">
<div class="paragraph">
<h4>Theorem 3 <span class="theorem-note">([<a href="#marked-objects">2</a>] Theorem 3.3)</span>.
</h4>
Let <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> be a combinatorial model category and let <img src="img-math/3bc4031bec0d46abb98a05d388d8b93fc834ffc55ace190200d52fb549f856e5.svg" class="inline-math"> be a diagram in <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> such that every object in the image of <img src="img-math/0d2692f665493315685e15f8e17aba4fde259d2cf3fc4d6b7bef95077b05a6cf.svg" class="inline-math"> is cofibrant.
Then the following defines the structure of a combinatorial model category on <img src="img-math/2daf0dd94e013697dbb40f816e5e574fc15325dcd12758b4009bb247bf731ab9.svg" class="inline-math">:
<ul>
<li>
<div class="paragraph">
A morphism <img src="img-math/ce680a87c21fd42a81e2ef2c078f1f5da1eb9f3e80b8e37244f31e433ee8de5d.svg" class="inline-math"> in <img src="img-math/2daf0dd94e013697dbb40f816e5e574fc15325dcd12758b4009bb247bf731ab9.svg" class="inline-math"> is a cofibration if and only if <img src="img-math/41bf3a94be0327c5380d2c936841f065d927af19962bfcc15813c916a987f612.svg" class="inline-math"> is a cofibration in <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math">.</div>
</li>
<li>
<div class="paragraph">
A morphism <img src="img-math/ce680a87c21fd42a81e2ef2c078f1f5da1eb9f3e80b8e37244f31e433ee8de5d.svg" class="inline-math"> in <img src="img-math/2daf0dd94e013697dbb40f816e5e574fc15325dcd12758b4009bb247bf731ab9.svg" class="inline-math"> is a weak equivalence if and only if <img src="img-math/7a4fbd8d3261d4e7acdaf80c2cae23977d7c771e28d0f7d962e024c569ef08e8.svg" class="inline-math"> is an isomorphism in <img src="img-math/46f970cdc0baeacf25b9420514f6d988959ba4874e60e1b5618eb93865b5558b.svg" class="inline-math">.</div>
</li>
</ul>

A marked object <img src="img-math/338fe50d0c6cd35cebd2655b51a48cc446b9699c11e3a3f24ab8f3429c174769.svg" class="inline-math"> is fibrant if and only if <img src="img-math/9bd95d1e476769a7b26e69e93aed5cd3b77188955417daed853a4fd425344457.svg" class="inline-math"> is fibrant in <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> and the markings of <img src="img-math/9bd95d1e476769a7b26e69e93aed5cd3b77188955417daed853a4fd425344457.svg" class="inline-math"> are stable under homotopy; that is, if <img src="img-math/c7167d0700e7ee3453d2704c348c3e0915b56e361c2ff80147ac947863c298d3.svg" class="inline-math"> are homotopic maps in <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> and <img src="img-math/68cecfab51e015186218ea1690238ea2186fe0524da426091cd6fd1937968003.svg" class="inline-math"> is marked, then <img src="img-math/cfad0550117216792d9ba6ad30f2b65901232cec179a8209d87b7568e4230999.svg" class="inline-math"> is marked.
The adjunctions <img src="img-math/6179aa97459581da73ad8a0b65aede0c655c5df20d5b13688c8fbc858774eab0.svg" class="inline-math"> and <img src="img-math/f33778cc500e241c6cf214c733a33eeef76090b02c15ca18982e0daf00d70783.svg" class="inline-math"> are Quillen adjunctions.</div>
</div>
<div class="theorem-like">
<div class="paragraph">
<h4>Remark 4.
</h4>
The description of weak equivalences in Theorem <a href="#th-marked-model-category">3</a> does not appear as stated in [<a href="#marked-objects">2</a>], but follows easily from results therein.
Let <img src="img-math/b3e265f0cdbdae08dfe307cc476de30abed0aacebb6207893cda0ad0f3dbe38c.svg" class="inline-math"> be a fibrant replacement functor.
By [<a href="#marked-objects">2</a>, lemma 2.5], a map <img src="img-math/ce680a87c21fd42a81e2ef2c078f1f5da1eb9f3e80b8e37244f31e433ee8de5d.svg" class="inline-math"> is a weak equivalence in <img src="img-math/2daf0dd94e013697dbb40f816e5e574fc15325dcd12758b4009bb247bf731ab9.svg" class="inline-math"> if and only if <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> is a weak equivalence in <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> and for every diagram (of solid arrows)
<div id="eq-isaev-classification-weak-equivalences" class="display-math-row">
<span>(2)</span>
<img src="img-math/206828daad954f7c5e3b15ee5d9dff0e2954f65a15172144789cf1142228c0c3.svg">
<span>(2)</span>
</div>
in which the outer square commutes up to homotopy and <img src="img-math/68cecfab51e015186218ea1690238ea2186fe0524da426091cd6fd1937968003.svg" class="inline-math"> is marked, there exists a marked map <img src="img-math/8472700e1db2709c9852c75595434ef61d282a8983162937119139a13e763c8e.svg" class="inline-math"> as indicated such that <img src="img-math/1e1562c7357e933285b8146c201ccf0191b5d406f0d3c82d0f9bb0427e7a3109.svg" class="inline-math">.
(<img src="img-math/1b351b9fa664123ad06c7e90e0883892825f4eaab5e22f140d74b21fa246fbd1.svg" class="inline-math"> is not required to commute with <img src="img-math/68cecfab51e015186218ea1690238ea2186fe0524da426091cd6fd1937968003.svg" class="inline-math"> and <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math">.)</div>
<div class="paragraph">
Now assume that <img src="img-math/ce680a87c21fd42a81e2ef2c078f1f5da1eb9f3e80b8e37244f31e433ee8de5d.svg" class="inline-math"> satisfies this condition and let us prove that <img src="img-math/da1c8434d4436c33ba5db5a00bee1b4446a26d0117a667b6b2d7f8f93c013fd0.svg" class="inline-math"> is an isomorphism of induced marked objects in the homotopy category.
<img src="img-math/da1c8434d4436c33ba5db5a00bee1b4446a26d0117a667b6b2d7f8f93c013fd0.svg" class="inline-math"> is an isomorphism in <img src="img-math/1255e7b637af7084ce4bd6b81d35484e33db6d4ef03e071020d526742033cbde.svg" class="inline-math">, so it suffices to show that <img src="img-math/d87f7a63b41bde96f45843ecba4d3ea4af3bc5a57974b02a87f4d17b2ab49f09.svg" class="inline-math"> preserves markings.
By definition, every marked morphism of <img src="img-math/143976c3bb0e0f93a9e9129871f06c2e7ae195c407fac3afedb0842f9123e79d.svg" class="inline-math"> is of the form <img src="img-math/9a82a92ca130688c1784c7b6f46b3612991294f620cc49b29bdf065e45a1079d.svg" class="inline-math"> for some marked <img src="img-math/2f5ee444a4fdf2a99b86ad88539fc1ec64cdcc171511b814de8d585606a429ab.svg" class="inline-math">.
Because <img src="img-math/9112c5bb5f7121c29437d155a7e9e35461f558ab1037451e98bb71b4719bdb69.svg" class="inline-math"> is cofibrant and <img src="img-math/42a993c01b2933911398fe235e1e14735126b08030a9f01dd0f1ec0512e6a0ee.svg" class="inline-math"> is fibrant, the map <img src="img-math/8cc667195641f02fcebb308d471e7b8eb2630e6a3a1a506f53842a786c8678c0.svg" class="inline-math"> has a preimage <img src="img-math/dab1a631bcdf773ec45f1227bd6df437c3e27a7f38e6c6492a6f80430dee3d97.svg" class="inline-math"> under <img src="img-math/09f9a8c0c578a7b8808bd816976adf3b5d50ddc0f0dc4269ec58197914b71b63.svg" class="inline-math">.
As <img src="img-math/9112c5bb5f7121c29437d155a7e9e35461f558ab1037451e98bb71b4719bdb69.svg" class="inline-math"> is cofibrant, <img src="img-math/7e1f7ecd02b9c62347eac93d67ca2e16a629ccc201c6d9d9c985e9a3fe76e9e3.svg" class="inline-math"> is fibrant and <img src="img-math/a39eff2d0c1f803f2d951cad7a495d9cd21e6b44c0fbcdaf99ecf8de652d7bf9.svg" class="inline-math">, there is a homotopy <img src="img-math/746f70deaccf0994150ff9788b04f2932fa5b9c3e30f5d954fc4e7fda4b6f34d.svg" class="inline-math">.
By assumption, there exists a marked map <img src="img-math/8472700e1db2709c9852c75595434ef61d282a8983162937119139a13e763c8e.svg" class="inline-math"> such that <img src="img-math/3a1a6c3ae99187d61a60cea959e561dc8723a51ecc0085bdff78e82d55425df1.svg" class="inline-math">, thus <img src="img-math/4f0efb4376bd42a0dd49fd3ce1dd668a976364357451965f713aa510934b3093.svg" class="inline-math"> is marked.</div>
<div class="paragraph">
To prove the other direction of the equivalence, assume that <img src="img-math/da1c8434d4436c33ba5db5a00bee1b4446a26d0117a667b6b2d7f8f93c013fd0.svg" class="inline-math"> is an isomorphism of marked objects and let <img src="img-math/d65f3fc5d9ab431e455ae1687aa01a640d1b075d601c4046de17405307ba9eb7.svg" class="inline-math"> be as in diagram <a href="#eq-isaev-classification-weak-equivalences">(2)</a>.
<img src="img-math/aa825535cda0aab4e605af220dcb55d321ea347f6d94620ffd86f428069ec78a.svg" class="inline-math"> is marked, hence has a preimage <img src="img-math/8472700e1db2709c9852c75595434ef61d282a8983162937119139a13e763c8e.svg" class="inline-math"> under <img src="img-math/09f9a8c0c578a7b8808bd816976adf3b5d50ddc0f0dc4269ec58197914b71b63.svg" class="inline-math"> which is marked.
We have <img src="img-math/14ecc06d989702828c2501cae98a6d53d0640d029262c8d2656864a0a0a05bc8.svg" class="inline-math"> because postcomposition of both sides with the isomorphism <img src="img-math/cf0a26b720b7bb4072d557576c83e768576040a0346c04ac2935513fdc0bfe96.svg" class="inline-math"> gives equal results.
<img src="img-math/9112c5bb5f7121c29437d155a7e9e35461f558ab1037451e98bb71b4719bdb69.svg" class="inline-math"> is cofibrant and <img src="img-math/42a993c01b2933911398fe235e1e14735126b08030a9f01dd0f1ec0512e6a0ee.svg" class="inline-math"> is fibrant, thus <img src="img-math/1e1562c7357e933285b8146c201ccf0191b5d406f0d3c82d0f9bb0427e7a3109.svg" class="inline-math">.</div>
</div>
<div id="lem-simplicial-marked-objects" class="theorem-like">
<div class="paragraph">
<h4>Lemma 5.
</h4>
Let <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> and <img src="img-math/a82722d92332cfae0878607da3f8468398183aa7374557f36c61ede456a97538.svg" class="inline-math"> be as in Theorem <a href="#th-marked-model-category">3</a>.
<ol>
<li id="itm-marked-left-proper">
<div class="paragraph">
If <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> is a left proper model category, then <img src="img-math/2daf0dd94e013697dbb40f816e5e574fc15325dcd12758b4009bb247bf731ab9.svg" class="inline-math"> is a left proper model category.</div>
</li>
<li id="itm-marked-simplicial">
<div class="paragraph">
If <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> is a model <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category, then <img src="img-math/2daf0dd94e013697dbb40f816e5e574fc15325dcd12758b4009bb247bf731ab9.svg" class="inline-math"> admits the structure of a model <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category such that <img src="img-math/6179aa97459581da73ad8a0b65aede0c655c5df20d5b13688c8fbc858774eab0.svg" class="inline-math"> and <img src="img-math/f33778cc500e241c6cf214c733a33eeef76090b02c15ca18982e0daf00d70783.svg" class="inline-math"> lift to Quillen <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-adjunctions.</div>
</li>
</ol>
</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
<em><a href="#itm-marked-left-proper">1</a></em>.
Let
<div class="display-math-row">
<img src="img-math/49a002c58caa5da2320ab48cf01422aee52002303a81d461d53e3cc45063235b.svg">
</div>
be a pushout square in <img src="img-math/2daf0dd94e013697dbb40f816e5e574fc15325dcd12758b4009bb247bf731ab9.svg" class="inline-math"> such that <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> is a weak equivalence.
<img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> is left proper, so <img src="img-math/701fe780326345c8a907a2d1d5cb955bd0c8b4b694f6a377761756195f2f6385.svg" class="inline-math"> is invertible as a map in <img src="img-math/1255e7b637af7084ce4bd6b81d35484e33db6d4ef03e071020d526742033cbde.svg" class="inline-math">.</div>
<div class="paragraph">
A map <img src="img-math/a01d7fc38f37bbd72aade2982f0395ce5f2f39bf1f6f396f8fc21b638c873d79.svg" class="inline-math"> is marked if and only if it factors via a marked map <img src="img-math/a158541b5cc8b9efdcb830db7601c6857fb9c31d6473635aaf85ab95dde7bb50.svg" class="inline-math"> or via a marked map <img src="img-math/0689daa6af8cefe55b3e7a24e23a2b59e426d0e2a6c0077bd416bf88caf87d65.svg" class="inline-math">.
In the first case,
<div class="display-math-row">
<img src="img-math/cef9639581c224525eb06b226a84ef0768c4dc22872de599f7bea295b8fd1868.svg">
</div>
which is marked because <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> is a weak equivalence.
Otherwise
<div class="display-math-row">
<img src="img-math/d0a9c7c2edbe82fa5e12483f366f2ed12d3bd3513a29c90472ece236b1c7d964.svg">
</div>
which is also marked.
We have shown that <img src="img-math/701fe780326345c8a907a2d1d5cb955bd0c8b4b694f6a377761756195f2f6385.svg" class="inline-math"> is an isomorphism of marked objects in <img src="img-math/1255e7b637af7084ce4bd6b81d35484e33db6d4ef03e071020d526742033cbde.svg" class="inline-math">, thus <img src="img-math/acc6ecadf23fff9065760930e7dbf4b3fe1bd1e010f60f736a4e3b1126188c6c.svg" class="inline-math"> is a weak equivalence.</div>
<div class="paragraph">
<em><a href="#itm-marked-simplicial">2</a></em>.
Let <img src="img-math/9bd95d1e476769a7b26e69e93aed5cd3b77188955417daed853a4fd425344457.svg" class="inline-math"> and <img src="img-math/7e1c8e5967ab89ce210753a07c713324b319d3df7086ca921f8d65d336a1d347.svg" class="inline-math"> be marked objects.
We define the mapping groupoid <img src="img-math/89542e8224934e1c96d1b81c649c968f0d51a59bab79d89912264fb6ba55a3b7.svg" class="inline-math"> as the full subgroupoid of <img src="img-math/e484c57843797c3e934957fe8d4e4d959dd540921272a704bc30a8844d29fccd.svg" class="inline-math"> of marking preserving maps.</div>
<div class="paragraph">
<img src="img-math/2daf0dd94e013697dbb40f816e5e574fc15325dcd12758b4009bb247bf731ab9.svg" class="inline-math"> is complete and cocomplete as a 1-category.
Thus if we construct tensors <img src="img-math/9b4c3a9e676df9a4fbd4e2137291ddcc55db796e7ea607b8ec79d9080976bf53.svg" class="inline-math"> and powers <img src="img-math/fd9a20a6cb35d6c92ccc6235e99f98d566333fc28cd02b333985b658e7d27e8a.svg" class="inline-math"> for all <img src="img-math/a4eee4606473434bab4faf66f8045f1d26644924ec6ab46f968beca1a1836a3c.svg" class="inline-math"> and <img src="img-math/dbd034e12293880c3a4830dcfb073af9338200e131ddfe1068f3d30622a67e94.svg" class="inline-math"> it follows that <img src="img-math/2daf0dd94e013697dbb40f816e5e574fc15325dcd12758b4009bb247bf731ab9.svg" class="inline-math"> is also complete and cocomplete as a <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category.
The underlying object of powers and copowers is constructed in <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math">, i.e. <img src="img-math/c5e7644e6376ecda01baad869ce6ac5e942a10bbe7f7dc4dd179ce55f20d0d42.svg" class="inline-math"> and <img src="img-math/7ab51a56b542c55141f2423ebdf29e3925501080b7ccdb6e509ca918e2873102.svg" class="inline-math">.
A map <img src="img-math/3f8c9bf11e24a55cd56a7e173e78899522eb5ee50292ebeb675e95faa8d33136.svg" class="inline-math"> is marked if and only if the composite
<div class="display-math-row">
<img src="img-math/22f9982250b18bfc347841ec5b900353659ca58bfc4429290cdb68e71f91783e.svg">
</div>
is marked for every <img src="img-math/faf37d39e085d51e55a15099e9a696289536e8865146dde2622a6134a409dcf1.svg" class="inline-math"> (which we identify with a map <img src="img-math/30d4c7bf3b96ffbe28cf3f04d4951b0df434c1752065ee4ad2c5910ceb6341d1.svg" class="inline-math">).
Similarly, a map <img src="img-math/ef98b362e1eab685b3a76d0b06e74737dd4ff1afb73960ea0ca540e2cf10e202.svg" class="inline-math"> is marked if and only if it factors as
<div class="display-math-row">
<img src="img-math/aa07da996d493c2db3351ce81899a4e259a246228cc2e94f02743c82b76286e2.svg">
</div>
for some object <img src="img-math/d36bc99241e7edf2d5d3bd6a3e5ac7d414ed473b35ed6ec7ddf692c2ad3ba565.svg" class="inline-math"> in <img src="img-math/71e07057bcc84b277896e38e60560bf5ac478e3dfaab227bf01abef3613ae928.svg" class="inline-math"> and marked <img src="img-math/4cecf5de4b44f5a48f6725d1766b8522f54a908bd92c226580b15f478f7d441d.svg" class="inline-math">.
It follows by [<a href="#basic-concepts-of-enriched-category-theory">1</a>, Theorem 4.85] from the preservation of tensors and powers by <img src="img-math/b73f1f9b75bff380bc6cdcd9bfbbbbe41e8df26e48c21ff2872055b4dffdb708.svg" class="inline-math"> that the 1-categorical adjunctions <img src="img-math/6179aa97459581da73ad8a0b65aede0c655c5df20d5b13688c8fbc858774eab0.svg" class="inline-math"> and <img src="img-math/c43e48eddc64fe28b151d0b5d0347405c0898b57c05779f50c09ccc96511ae3a.svg" class="inline-math"> extend to <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-adjunctions.</div>
<div class="paragraph">
It remains to show that the tensoring <img src="img-math/6368d168de1712619816580fc9dd74342189aeacfbf088819c8c9b9fad8e59fd.svg" class="inline-math"> is a Quillen bifunctor.
For this we need to prove that if <img src="img-math/f97df0b206760960750a2daa2f02b142234b2fa530affaffbccf7dce89a6abe1.svg" class="inline-math"> is a cofibration of groupoids and <img src="img-math/2b778cb6543dd4f1ec65516b409be3d4ea75e50ca2556c39b6fec5672f751389.svg" class="inline-math"> is a cofibration of marked objects, then their pushout-product
<div class="display-math-row">
<img src="img-math/11015f68ef53dba0fbe6076a8908b7cba2843afd7161da5657e91612a6c3827b.svg">
</div>
is a cofibration, and that it is a weak equivalence if either <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> or <img src="img-math/080237251272c801041ea2a4d2f65b3bae8e8ad91a515098993fa2aa03685a70.svg" class="inline-math"> is furthermore a weak equivalence.
The first part follows directly from the same property for the <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-enrichment of <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> and the fact that <img src="img-math/b73f1f9b75bff380bc6cdcd9bfbbbbe41e8df26e48c21ff2872055b4dffdb708.svg" class="inline-math"> preserves tensors and pushouts, and reflects cofibrations.</div>
<div class="paragraph">
In the second part we have in both cases that <img src="img-math/ee3561f257086902ff7f66a14fbc3a48249e7c101573bff226c719dc475ecec8.svg" class="inline-math"> is a weak equivalence in <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math">.
Thus we only need to show that <img src="img-math/ee3561f257086902ff7f66a14fbc3a48249e7c101573bff226c719dc475ecec8.svg" class="inline-math"> reflects a given marked morphism <img src="img-math/de4e36556bc316591ea53b5255fa9669bb6ef521127c58b30946eca89c89e7c6.svg" class="inline-math"> in <img src="img-math/1255e7b637af7084ce4bd6b81d35484e33db6d4ef03e071020d526742033cbde.svg" class="inline-math">.
It follows from the construction of <img src="img-math/9cd0eda1fdb4d22024645350681b5695ab3253a1c8afc1d0394dab4b2e7176df.svg" class="inline-math"> that for any such <img src="img-math/68cecfab51e015186218ea1690238ea2186fe0524da426091cd6fd1937968003.svg" class="inline-math"> there exists <img src="img-math/41fb277db90352630b492e1f3184c857bdf0ff1c2e688a4d6099ce07ee247da3.svg" class="inline-math"> such that <img src="img-math/fa7cfa90334d7abf723c8e37cb3f3ef6d3ac589ba0cb133623f12e8e87c3e17d.svg" class="inline-math"> for some marked map <img src="img-math/c29f14a451423081232b1eb686598fdcce91fe23bf501ccbbaf5f9a6d7dba74d.svg" class="inline-math">.</div>
<div class="paragraph">
Assume first that <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> is a trivial cofibration, i.e. an equivalence of groupoids that is injective on objects.
Then there exists <img src="img-math/faf37d39e085d51e55a15099e9a696289536e8865146dde2622a6134a409dcf1.svg" class="inline-math"> such that <img src="img-math/703662ce4acaffad4dc260cecaadfdc5b95c36e796e39a6d1414eab4a2a0e551.svg" class="inline-math"> and <img src="img-math/79e00881db7552995be0b87ee5bd11f2fc50f8aa801e73997f2130cee1f31714.svg" class="inline-math"> are isomorphic objects of <img src="img-math/c6ad88e8935f37d1bd9d46010cd0e0e682799b146f722f6f4ebdf6ee73a85f65.svg" class="inline-math">.
<img src="img-math/68cecfab51e015186218ea1690238ea2186fe0524da426091cd6fd1937968003.svg" class="inline-math"> is (left) homotopic to <img src="img-math/39484ebe1929c876c94389f486cf3d178fc082f5125cc407877a532d123a2b55.svg" class="inline-math">, which factors via the marked map <img src="img-math/d3d784baa5553f0da6688f7b6745ba64eb98775e5c602e1220c48093057eedb9.svg" class="inline-math">.
It follows that <img src="img-math/529e4cd7c38102af9937e454f58fdd9b73e1cc6259ba173cbd529cbc02a691b3.svg" class="inline-math"> reflects marked morphisms.</div>
<div class="paragraph">
Now assume that <img src="img-math/080237251272c801041ea2a4d2f65b3bae8e8ad91a515098993fa2aa03685a70.svg" class="inline-math"> is a trivial cofibration.
Then <img src="img-math/21e02bcc4aca87fe082a5521a27b9febaba2db931c44b16e6a32cd1e7152a2c2.svg" class="inline-math"> reflects marked maps, i.e. there exists a marked map <img src="img-math/eb9ed8ea1ab8d839bdde54dad6a0ca5f2726f9a70d1d322c3e7f37bf5475c165.svg" class="inline-math"> such that <img src="img-math/1700a07d0723ec2013c0f48771584cb412d856ed65face3994d2e39f69c8d1f5.svg" class="inline-math">.
Thus the equivalence class of <img src="img-math/002da87a879a21837d128165a9d67b9ff66ddacb6f8b1f0e0c62cf6166514d8d.svg" class="inline-math"> in <img src="img-math/1255e7b637af7084ce4bd6b81d35484e33db6d4ef03e071020d526742033cbde.svg" class="inline-math"> is marked and mapped to <img src="img-math/ccebaae3069d0375b62d892d80ccde0dbe09bf74af4bbfb1401466045b2eb189.svg" class="inline-math"> under postcomposition by <img src="img-math/da1c8434d4436c33ba5db5a00bee1b4446a26d0117a667b6b2d7f8f93c013fd0.svg" class="inline-math">.</div>
</div>
<div class="paragraph">
In the semantics of logic, one usually defines the notion of model of a logical theory in two steps:
First a notion of structure is defined that interprets the theory's signature, i.e. the function and relation symbols that occur in its axioms.
Then one defines what it means for such a structure to satisfy a formula over the signature, and a model is a structure of the theory's signature which satisfies the theory's axioms.
For very well-behaved logics such as Lawvere theories, there is a method of freely turning structures into models of the theory, so that the category of models is a reflective subcategory of the category of structures.</div>
<div class="paragraph">
By analogy, lcc-marked categories correspond to the structures of the signature of lcc categories.
The model structure of <img src="img-math/e78a0e77c7e7c7ea52c0fade4115b283953e5f06f7f07e7040fcf594a1657ce1.svg" class="inline-math"> ensures that markings respect the homotopy theory of <img src="img-math/b5e631e2fb35721b83388080c16d0f4e8d5cb54148949aad218de1a98d42980c.svg" class="inline-math">, in that the choice of marking is only relevant up to isomorphism of diagrams.
However, the model structure does not encode the universal property that marked diagrams are ultimately supposed to satisfy.
To obtain the analogue of the category of models for a logical theory, we now define a reflective subcategory of <img src="img-math/e78a0e77c7e7c7ea52c0fade4115b283953e5f06f7f07e7040fcf594a1657ce1.svg" class="inline-math">.
The technical tool to accomplish this is a left Bousfield localization at a set <img src="img-math/794bf7228e23b3e20da565e00cc4023f89e079b255fca096836f3c09815ad0d6.svg" class="inline-math"> of morphisms in <img src="img-math/e78a0e77c7e7c7ea52c0fade4115b283953e5f06f7f07e7040fcf594a1657ce1.svg" class="inline-math">.
<img src="img-math/794bf7228e23b3e20da565e00cc4023f89e079b255fca096836f3c09815ad0d6.svg" class="inline-math"> corresponds to the set of axioms of a logical theory.
We thus need to define <img src="img-math/794bf7228e23b3e20da565e00cc4023f89e079b255fca096836f3c09815ad0d6.svg" class="inline-math"> in such a way that an lcc-marked category is lcc if and only if it has the right lifting property against the morphisms in <img src="img-math/794bf7228e23b3e20da565e00cc4023f89e079b255fca096836f3c09815ad0d6.svg" class="inline-math"> such that lifts are determined uniquely up to unique isomorphism.</div>
<div class="paragraph">
<img src="img-math/b5e631e2fb35721b83388080c16d0f4e8d5cb54148949aad218de1a98d42980c.svg" class="inline-math"> is a combinatorial and left proper model <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category with mapping groupoids <img src="img-math/8b5761d156bb1b43bd9c843f77cbee612a2617a6f495b19b85539fac68245dfe.svg" class="inline-math"> given by sets of functors and their natural isomorphisms.
Thus <img src="img-math/e78a0e77c7e7c7ea52c0fade4115b283953e5f06f7f07e7040fcf594a1657ce1.svg" class="inline-math"> has the structure of a combinatorial and left proper model <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category by Lemma <a href="#lem-simplicial-marked-objects">5</a>.
It follows that the left Bousfield localization at any (small) set of maps exists by [<a href="#hirschhorn">12</a>, Theorem 4.1.1].</div>
<div id="def-lcc-axioms" class="theorem-like">
<div class="paragraph">
<h4>Definition 6.
</h4>
The model category <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math"> of <em>lcc sketches</em> is the left Bousfield localization of the model category of <img src="img-math/c7b406327a1abf438015e58049af3aca77684b08edb067109231ce5eadd24d6f.svg" class="inline-math">-marked categories at the following morphisms.
<ul>
<li>
<div class="paragraph">
The morphism <img src="img-math/991b2e78e1d4224f802cd7afe2dc69f2af912b8da3cf97db3a2868c3e6fc0d40.svg" class="inline-math"> given by the unique map from the empty category to the marked category with a single, <img src="img-math/a39ee3684ca21af3422e8b96f6e31f4b81e91813dad0ef0b093936bf0e96f4e3.svg" class="inline-math">-marked object.
<img src="img-math/991b2e78e1d4224f802cd7afe2dc69f2af912b8da3cf97db3a2868c3e6fc0d40.svg" class="inline-math"> corresponds to the essentially unique existence of a terminal object.</div>
</li>
<li>
<div class="paragraph">
The morphism <img src="img-math/1621a7b3486f632cc1ac0c9da2e592035e64374a16e24992ae33bf62ee5fd33c.svg" class="inline-math"> given by the inclusion of the category with two objects
<div class="display-math-row">
<img src="img-math/1284f5d639c333b121f21c305c31f79bbe7e4d42d59656989f373b18d84c8a22.svg">
</div>
such that <img src="img-math/31da59226089717b0fd7e061b3dba13e20f69078642fd752d80ecaa39fa58b4d.svg" class="inline-math"> is <img src="img-math/a39ee3684ca21af3422e8b96f6e31f4b81e91813dad0ef0b093936bf0e96f4e3.svg" class="inline-math">-marked into
<div class="display-math-row">
<img src="img-math/a924c0d6d13f4ee015d6e853c77c680d80329a6424573f6a1bd03f7a743d64a6.svg">
</div>
<img src="img-math/1621a7b3486f632cc1ac0c9da2e592035e64374a16e24992ae33bf62ee5fd33c.svg" class="inline-math"> corresponds to the universal property of terminal objects.</div>
</li>
<li>
<div class="paragraph">
The morphism <img src="img-math/ebef579c2eb6dd7c0ed7ac0761d23c6c1ca3e46bb600c8f47ab05bfd912a8819.svg" class="inline-math"> given by the quotient map from the free-standing non-commutative and <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked square
<div class="display-math-row">
<img src="img-math/a0a859cc59d80fa0e029383e8619fe1e073f5267d54657e904d46242a39dadda.svg">
</div>
to the commuting square
<div class="display-math-row">
<img src="img-math/a249ddac15c280946b84e6c8ba96b1c47b85217fd61e8553568c693bf85a06b0.svg">
</div>
(which is still marked via <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">).
<img src="img-math/ebef579c2eb6dd7c0ed7ac0761d23c6c1ca3e46bb600c8f47ab05bfd912a8819.svg" class="inline-math"> corresponds to the commutativity of pullback squares.</div>
</li>
<li>
<div class="paragraph">
The morphism <img src="img-math/e4ec25081fafea60b5d84e2c47848ce5c4ff34411f991e0c5700ece85218223c.svg" class="inline-math"> given by the inclusion of the cospan
<div class="display-math-row">
<img src="img-math/4efad7b9ef480e38c2e99120517c2c03b3962ba1f73333263ba9f53ba9ce362b.svg">
</div>
with no markings into the non-commutative square
<div class="display-math-row">
<img src="img-math/a0a859cc59d80fa0e029383e8619fe1e073f5267d54657e904d46242a39dadda.svg">
</div>
which is marked via <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">.
<img src="img-math/e4ec25081fafea60b5d84e2c47848ce5c4ff34411f991e0c5700ece85218223c.svg" class="inline-math"> corresponds to the essentially unique existence of pullback squares.</div>
</li>
<li>
<div class="paragraph">
The morphism <img src="img-math/62a833f002c7cb68565828335bfbb25c7951252bc35903ceb93744ce8799959b.svg" class="inline-math"> given by the inclusion of
<div class="display-math-row">
<img src="img-math/aec156cd3ac68f64a5ee8a99941bdedcdbd96e304059e7bf40d8aa6ca44f82e6.svg">
</div>
in which the lower right square is non-commutative and marked via <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">, into the diagram
<div class="display-math-row">
<img src="img-math/80164d47a7e220b0208c95e1ea0b1e897ce8c500a521b4014c8340ba05bf9024.svg">
</div>
in which the indicated triangles commute.
<img src="img-math/62a833f002c7cb68565828335bfbb25c7951252bc35903ceb93744ce8799959b.svg" class="inline-math"> corresponds to the universal property of pullback squares.</div>
</li>
<li>
<div class="paragraph">
The morphism <img src="img-math/c0faae264a037be2500ea6047daf1482d82dd1e0697745aa542d73133a61f63b.svg" class="inline-math"> given by the quotient map of the non-commutative diagram
<div class="display-math-row">
<img src="img-math/65c8e81c9584c68c7acb622fa02abf4cfa132a3d4fc2ed693b623dd20ac0c6c4.svg">
</div>
in which the square made of the <img src="img-math/e02d168ccd0ce0508ebe2b781158e5fccda1b79cde20c07f07c4451b516fc81f.svg" class="inline-math"> and <img src="img-math/765cd48e8e70b5ffc4f93835d38d861f51c7bd469858bc54cbfebdcf0bf25564.svg" class="inline-math"> is marked via <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math"> and the whole diagrams is marked via <img src="img-math/44d3bdfde8e2e7565e085fc8b3675a81ced448d49fb026f9c8b23878f8d3d3c2.svg" class="inline-math">, to
<div class="display-math-row">
<img src="img-math/ee6c19678ac97c88e21fa1ca93c67248ce09cc317e9d5a26749e1b16cca45a1e.svg">
</div>
in which the indicated triangle commutes.
<img src="img-math/c0faae264a037be2500ea6047daf1482d82dd1e0697745aa542d73133a61f63b.svg" class="inline-math"> corresponds to the requirement that the evaluation map <img src="img-math/bfa094e4585d6959a38d290d181cd9eab7d8ace41feb7315588e146eb0d33ca3.svg" class="inline-math"> of the dependent product <img src="img-math/ecbefafbf74eadd16db4240dde00b1360ce2a3b2605a996c3e5f638d750bd208.svg" class="inline-math"> is a morphism in the slice category over <img src="img-math/a1f89b245d34b54ebb1bd3cde31adda3725a1adc2ee34b12b3fbe6021c6d5da4.svg" class="inline-math">.</div>
</li>
<li>
<div class="paragraph">
The morphism <img src="img-math/a5a2f5cc2ba10249d4215e8ec85db26e1213f7910d6ab1f253ccad8e64240bca.svg" class="inline-math"> given by the inclusion of a composable pair of morphisms
<div class="display-math-row">
<img src="img-math/e90e9e574d6bbc8e114902b8cb9c2cca2773e675b463bf6823975c61a84281dc.svg">
</div>
into the non-commutative diagram
<div class="display-math-row">
<img src="img-math/f6f5392d0eef5b00c3a5492234ce167ec169d4f1446d3331f19da1972f168b9b.svg">
</div>
which is marked via <img src="img-math/44d3bdfde8e2e7565e085fc8b3675a81ced448d49fb026f9c8b23878f8d3d3c2.svg" class="inline-math"> (and hence the outer square is marked via <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">).
<img src="img-math/a5a2f5cc2ba10249d4215e8ec85db26e1213f7910d6ab1f253ccad8e64240bca.svg" class="inline-math"> corresponds to the essentially unique existence of dependent products <img src="img-math/ecbefafbf74eadd16db4240dde00b1360ce2a3b2605a996c3e5f638d750bd208.svg" class="inline-math"> and their evaluation maps <img src="img-math/bfa094e4585d6959a38d290d181cd9eab7d8ace41feb7315588e146eb0d33ca3.svg" class="inline-math">.</div>
</li>
<li>
<div class="paragraph">
The morphism <img src="img-math/2cf0fb95cd3f364f8262e1923d6fe755ebf25587828d6bcee2d1365904e7a68a.svg" class="inline-math"> given by the inclusion of the diagram
<div class="display-math-row">
<img src="img-math/5c92b6ac94cd71c8c89da7d597fd22f05f9fabf3566bc1b0110ca7b377c16b81.svg">
</div>
in which the square given by the <img src="img-math/765cd48e8e70b5ffc4f93835d38d861f51c7bd469858bc54cbfebdcf0bf25564.svg" class="inline-math"> and <img src="img-math/e02d168ccd0ce0508ebe2b781158e5fccda1b79cde20c07f07c4451b516fc81f.svg" class="inline-math"> is marked via <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">, the subdiagram given by the <img src="img-math/94e15372eba28c8b5b52841791d88d1b276dcf36c8bcb82a4aad3207be7c5b37.svg" class="inline-math"> and <img src="img-math/bfa094e4585d6959a38d290d181cd9eab7d8ace41feb7315588e146eb0d33ca3.svg" class="inline-math"> is marked via <img src="img-math/44d3bdfde8e2e7565e085fc8b3675a81ced448d49fb026f9c8b23878f8d3d3c2.svg" class="inline-math">, the square given by <img src="img-math/8e0162707880067a1f239abd3e96f41c18498d3b5bcbd4b0a99dca2c465f5122.svg" class="inline-math"> and the <img src="img-math/9ba0bb542f9a3f01014d99dddb2a61f6b5006faf71026fe8706065f83b7ea581.svg" class="inline-math"> is marked via <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">, and <img src="img-math/7a8e1b52cb574af8985ab0d5bd43748ad34b2645fdae4fa4fa7d359ab8a350e6.svg" class="inline-math">, into the diagram
<div class="display-math-row">
<img src="img-math/8737df7ce7b9ef0772967e3de5cb57b040914bd233ac71b52fd7fc4a35a6108a.svg">
</div>
in which <img src="img-math/1a977ef857faa326aa46333d6786385d65eb20e5ee191a170a1cc785a9a58643.svg" class="inline-math"> commutes with the <img src="img-math/e02d168ccd0ce0508ebe2b781158e5fccda1b79cde20c07f07c4451b516fc81f.svg" class="inline-math"> and <img src="img-math/9ba0bb542f9a3f01014d99dddb2a61f6b5006faf71026fe8706065f83b7ea581.svg" class="inline-math">, and <img src="img-math/a15045c16ecf7e33570d9a92845579338ea0a8879bee337067343f8d0c76392a.svg" class="inline-math">.
<img src="img-math/2cf0fb95cd3f364f8262e1923d6fe755ebf25587828d6bcee2d1365904e7a68a.svg" class="inline-math"> corresponds to the universal property of the dependent product <img src="img-math/ecbefafbf74eadd16db4240dde00b1360ce2a3b2605a996c3e5f638d750bd208.svg" class="inline-math">.</div>
</li>
</ul>
</div>
</div>
<div id="prop-lcc-model-cat" class="theorem-like">
<div class="paragraph">
<h4>Proposition 7.
</h4>
The model category <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math"> is a model for the <img src="img-math/78d734bdf37f811501f52175bfad3140dcca6f5b3978d25f7550c8b45a61444b.svg" class="inline-math">-category of lcc categories and lcc functors:
<ol>
<li id="itm-lcc-fibrant-objects">
<div class="paragraph">
An object <img src="img-math/3cf4c8ac5e4dd88839f370f21ebc2a054fb4e7afbc874f39e019de2fccfadb5d.svg" class="inline-math"> is fibrant if and only if its underlying category is lcc and
<ul>
<li>
<div class="paragraph">
a map <img src="img-math/9e44f253bfee90abda3b6da3148b79e699d949c3a9fb58a57834b59f5b2ade56.svg" class="inline-math"> is marked if and only if its image is a terminal object;</div>
</li>
<li>
<div class="paragraph">
a map <img src="img-math/351153fac50d4ad062e823da4cac7c40b9722ae3ead39b087d8392ce5965b688.svg" class="inline-math"> is marked if and only if its image is a pullback square; and</div>
</li>
<li>
<div class="paragraph">
a map <img src="img-math/a92b0cca0d65fbbeaca009bebb73723554cb1dfa5a47efffa5a29779e0fa750a.svg" class="inline-math"> is marked if and only if its image is (isomorphic to) the diagram of the evaluation map of a dependent product.</div>
</li>
</ul>
</div>
</li>
<li id="itm-lcc-homotopy-category">
<div class="paragraph">
The homotopy category of <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math"> is equivalent to the category of lcc categories and isomorphism classes of lcc functors.</div>
</li>
<li id="itm-lcc-homotopy-function-complexes">
<div class="paragraph">
The homotopy function complexes of fibrant lcc sketches are given by the groupoids of lcc functors and their natural isomorphisms.</div>
</li>
</ol>
</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
Homotopy function complexes of maps from cofibrant to fibrant objects in a model <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category can be computed as nerves of the groupoid enrichment.
Thus <a href="#itm-lcc-homotopy-category">2</a> and <a href="#itm-lcc-homotopy-function-complexes">3</a> follow from <a href="#itm-lcc-fibrant-objects">1</a> and Lemma <a href="#lem-simplicial-marked-objects">5</a>.</div>
<div class="paragraph">
By [<a href="#hirschhorn">12</a>, Theorem 4.1.1], the fibrant objects of the left Bousfield localization <img src="img-math/7fc9ab0ae26c88bfcb2ce0cccfbfb33fe595d56034ea3b5b73628e23c1b50589.svg" class="inline-math"> at the set <img src="img-math/794bf7228e23b3e20da565e00cc4023f89e079b255fca096836f3c09815ad0d6.svg" class="inline-math"> of morphisms from Definition <a href="#def-lcc-axioms">6</a> are precisely the fibrant lcc-marked categories <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> which are <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math">-local for all <img src="img-math/6102d257e2a7e8df37737508a3f7e874369eaec28dca3d939277628b29498021.svg" class="inline-math">.
The verification of the equivalence asserted in <a href="#itm-lcc-fibrant-objects">1</a> can thus be split up into three parts corresponding to terminal objects, pullback squares and dependent products.
As the three proofs are very similar, we give only the proof for pullbacks.
For this we must show that if <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> is a <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked category, then marked maps <img src="img-math/9b676dddfd12569cf03e0c5cb4b3090a2b92b341dd91e3319148c5ee96d9a8fd.svg" class="inline-math"> are stable under isomorphisms and <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> is <img src="img-math/8f3dfb0251b8de3f18ce51ec80861c8bd5af66843719f081cf3673a4ce1849fe.svg" class="inline-math">-local for <img src="img-math/b979c2ef6a2801f68a2b783087aaada1cce97e9499e578b8d22516ac7a3fe109.svg" class="inline-math"> if and only if the underlying category <img src="img-math/62f5d02355e311a277be58eeb10b4db971c00b08446d846f6fcc9a9978c33df6.svg" class="inline-math"> has all pullbacks and maps <img src="img-math/351153fac50d4ad062e823da4cac7c40b9722ae3ead39b087d8392ce5965b688.svg" class="inline-math"> are marked if and only if their images are pullbacks.</div>
<div class="paragraph">
Let <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> be a model <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category.
The homotopy function complexes of maps from cofibrant to fibrant objects in <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> can be computed as nerves of mapping groupoids.
The nerve functor <img src="img-math/41ed7ad4344762a6bc0868f18767ee90d99ad55865f9e6ab249cb36c0b5f328a.svg" class="inline-math"> preserves and reflects trivial fibrations.
Thus if <img src="img-math/1183e6d1b7801c15b5b847f6fb4f27a6942a43f72f0c578f0275528caab69f84.svg" class="inline-math"> is a morphism of cofibrant objects <img src="img-math/3c0c6ff5fd89d77a692d116f1630ceca5687183f2ea5d4dbee424a547b1988c6.svg" class="inline-math">, then a fibrant object <img src="img-math/9bd95d1e476769a7b26e69e93aed5cd3b77188955417daed853a4fd425344457.svg" class="inline-math"> is <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math">-local if and only if
<div id="eq-locality" class="display-math-row">
<img src="img-math/d0c267013758e638e0c558af93000d1b70595764eb82ff04def8dc5648b49008.svg">
</div>
is a trivial fibration of groupoids, i.e. an equivalence that is surjective on objects.</div>
<div class="paragraph">
Unfolding this we obtain the following characterization of <img src="img-math/8f3dfb0251b8de3f18ce51ec80861c8bd5af66843719f081cf3673a4ce1849fe.svg" class="inline-math">-locality for a fibrant <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked category:
<ul>
<li>
<div class="paragraph">
<img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> is <img src="img-math/ebef579c2eb6dd7c0ed7ac0761d23c6c1ca3e46bb600c8f47ab05bfd912a8819.svg" class="inline-math">-local if and only if all <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked squares commute.</div>
</li>
<li>
<div class="paragraph">
<img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> is <img src="img-math/e4ec25081fafea60b5d84e2c47848ce5c4ff34411f991e0c5700ece85218223c.svg" class="inline-math">-local if and only if every cospan can be completed to a <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked square, and isomorphisms of cospans can be lifted uniquely to isomorphisms of <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked squares completing them.</div>
</li>
<li>
<div class="paragraph">
<img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> is <img src="img-math/62a833f002c7cb68565828335bfbb25c7951252bc35903ceb93744ce8799959b.svg" class="inline-math">-local if and only if every commutative square completing the lower cospan of a <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked square factors via the <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked square, and every factorization is compatible with natural isomorphisms of diagrams.
By compatibility with the identity isomorphism, the factorization is unique.</div>
</li>
</ul>

If these conditions are satisfied, then every cospan in <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> can be completed to a pullback square which is <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked, and <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked squares are pullbacks.
By fibrancy of <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math">, it follows that precisely the pullback squares are <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked.</div>
<div class="paragraph">
Conversely, if we take as <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked squares the pullbacks in a category <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> with all pullbacks, then <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked squares will be stable under isomorphism, and, by the characterization above, <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> will be <img src="img-math/8f3dfb0251b8de3f18ce51ec80861c8bd5af66843719f081cf3673a4ce1849fe.svg" class="inline-math">-local for all <img src="img-math/0d2692f665493315685e15f8e17aba4fde259d2cf3fc4d6b7bef95077b05a6cf.svg" class="inline-math">.</div>
</div>
<h2 id="sec-slcc">
3 Strict lcc categories</h2>
<div class="paragraph">
A naive interpretation of type theory in the fibrant objects of <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math"> as outlined in the introduction suffers from very similar issues as Seely's original version:
Type theoretic structure is preserved up to equality by substitution, but lcc functors preserve the corresponding objects with universal properties only up to isomorphism.</div>
<div class="paragraph">
In this section, we explore an alternative model categorical presentation of the higher category of lcc categories.
Our goal is to rectify the deficiency that lcc functors do not preserve lcc structure up to equality.
Indeed, lcc structure on fibrant lcc sketches is induced by a right lifting <em>property</em>, so there is no preferred choice of lcc structure on fibrant lcc sketches.
We can thus not even state the required preservation up to equality.
To be able to speak of distinguished choice of lcc structure, we employ the following technical device.</div>
<div id="def-algebraically-fibrant-objects" class="theorem-like">
<div class="paragraph">
<h4>Definition 8 <span class="theorem-note">([<a href="#algebraic-models">18</a>])</span>.
</h4>
Let <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> be a combinatorial model category and let <img src="img-math/6ee6d2cb1c08f8ac4d5f6bac8bc138d4530459a9e86bfce7888c79c0bd998182.svg" class="inline-math"> be a set of trivial cofibrations such that objects with the right lifting property against <img src="img-math/6ee6d2cb1c08f8ac4d5f6bac8bc138d4530459a9e86bfce7888c79c0bd998182.svg" class="inline-math"> are fibrant.
An <em>algebraically fibrant object</em> of <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> (with respect to <img src="img-math/6ee6d2cb1c08f8ac4d5f6bac8bc138d4530459a9e86bfce7888c79c0bd998182.svg" class="inline-math">) consists of an object <img src="img-math/49e3475e1bc2433ca985c80245d409c56efcfe114465382b0ca7ff848ea79099.svg" class="inline-math"> equipped with a choice of lifts against all morphisms <img src="img-math/3e84b87949eae95a98bf91fcea71bcaea35dc81ff05f1f426f10b78b2a9fddbe.svg" class="inline-math">.
Thus <img src="img-math/9bd95d1e476769a7b26e69e93aed5cd3b77188955417daed853a4fd425344457.svg" class="inline-math"> comes with maps <img src="img-math/6415b7bc1ce67d5c5208f701681093a3a4783f67cb2405514da50a7259ca5a6f.svg" class="inline-math"> for all <img src="img-math/e9ff263519a7b87fb7fdd6ce2d6ec24b0d9ecfeb279307326b22878ba1589268.svg" class="inline-math"> in <img src="img-math/6ee6d2cb1c08f8ac4d5f6bac8bc138d4530459a9e86bfce7888c79c0bd998182.svg" class="inline-math"> and <img src="img-math/1e6e47f48627db0140a1255965231f3909628c6c9309c3c67bed05eab6b64205.svg" class="inline-math"> in <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> such that
<div class="display-math-row">
<img src="img-math/660fbdaf0eb867b9aadc40974b530e5f4c9e3e9181cf19ac16a29fa41db4d03b.svg">
</div>
commutes.
A morphism of algebraically fibrant objects <img src="img-math/41bf3a94be0327c5380d2c936841f065d927af19962bfcc15813c916a987f612.svg" class="inline-math"> is a morphism <img src="img-math/352021f24bfa23ac7560b0b0f9f10a941d263ec5b5173e3ccd864ca9ebf7c018.svg" class="inline-math"> in <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> that preserves the choices of lifts, in the sense that <img src="img-math/6c0cb3b4e23640faec4189809862806d1e96f86a2c80a7fac09ff7868140d954.svg" class="inline-math"> for all <img src="img-math/e9ff263519a7b87fb7fdd6ce2d6ec24b0d9ecfeb279307326b22878ba1589268.svg" class="inline-math"> in <img src="img-math/6ee6d2cb1c08f8ac4d5f6bac8bc138d4530459a9e86bfce7888c79c0bd998182.svg" class="inline-math"> and <img src="img-math/1e6e47f48627db0140a1255965231f3909628c6c9309c3c67bed05eab6b64205.svg" class="inline-math">.
The category of algebraically fibrant objects is denoted by <img src="img-math/d834bcaebd7608420e192404353c827017184fb612c9184a7d57185250be3ad5.svg" class="inline-math">, and the evident forgetful functor <img src="img-math/6a0c3ded7731bb8b10f584b39f6fa377c80f3c187e1121854bdab7d791d2f9ee.svg" class="inline-math"> by <img src="img-math/02ac1ec184b1cc9598e52dd06e72bb5701bc63f2f670e187e7ad4d2a506a3409.svg" class="inline-math">.</div>
</div>
<div id="prop-object-generating-triv-cof-marked" class="theorem-like">
<div class="paragraph">
<h4>Proposition 9.
</h4>
Denote by <img src="img-math/eb812ac4a0decf12cae7d101d59e245894efae48ab90c6d79b7fd3335a6c645c.svg" class="inline-math"> the free-standing isomorphism with objects <img src="img-math/dbd4a140324285fff484166e7a32d2b9fc1b872a33dc553756bc4f77c3a9a56f.svg" class="inline-math"> and <img src="img-math/92757f9a5d802657ae1c7af9ce6ad10cb8197193988a2ae4a38cf86154eb1414.svg" class="inline-math"> and let <img src="img-math/f955a78d687c80c3c40374d67a4031bae764b5b76a2c11ae2a2a668e03edb5b2.svg" class="inline-math">.
Let <img src="img-math/b5d6af3b95e3e8bd9a611ae624fec20525df75c753e67a188aefe6f337fb653d.svg" class="inline-math"> be the lcc-marked object given by <img src="img-math/e4323815632842f3151d809bac9d49cbe58e2df19e4bd611d0efe46da6a4b642.svg" class="inline-math"> with <img src="img-math/1709d9c24b9083fbb380fdcef1255e42d4080e44a516c2ccbb70983eb973c4e3.svg" class="inline-math"> the only marking for <img src="img-math/0b898a8be3f0dbc09c0eae32a8fe93fba9bda9f3915a8f99fd88f0ca439381d4.svg" class="inline-math"> and <img src="img-math/99434070c0c922ce81b93ca2be47156461ca41461ddc9e4ffdb65854823e9798.svg" class="inline-math">, <img src="img-math/6e89e15bc1893a2e7ae53d1a40ad510a221aa3ec5d4e7f0955f8330b50ac19b2.svg" class="inline-math"> the markings for <img src="img-math/89e0183c41572c3fb8e25738b564a64a5031139a6f07b8de9d770717df413c9c.svg" class="inline-math">, and denote by <img src="img-math/1eec73b9019f66ab86f15830f77bef66814e818f67dd0c6cddfce4629fbd9826.svg" class="inline-math"> the obvious inclusion.</div>
<div class="paragraph">
Then <img src="img-math/1dfe9443953140d41eb5f6b6c83996f242b196e94368a93bf35f3f617396e330.svg" class="inline-math"> is a trivial cofibration in <img src="img-math/e78a0e77c7e7c7ea52c0fade4115b283953e5f06f7f07e7040fcf594a1657ce1.svg" class="inline-math">, and an object of <img src="img-math/e78a0e77c7e7c7ea52c0fade4115b283953e5f06f7f07e7040fcf594a1657ce1.svg" class="inline-math"> is fibrant if and only if it has the right lifting property against <img src="img-math/1dfe9443953140d41eb5f6b6c83996f242b196e94368a93bf35f3f617396e330.svg" class="inline-math"> for all <img src="img-math/ab28aa2abbe3d88da40417ce8d848b5671ec1f3a13e47660b28a743b5200ed3b.svg" class="inline-math">.</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
The maps <img src="img-math/1dfe9443953140d41eb5f6b6c83996f242b196e94368a93bf35f3f617396e330.svg" class="inline-math"> are injective on objects and hence cofibrations, and they reflect markings up to isomorphism, hence are also weak equivalences.
A map <img src="img-math/aa514c4b79509d236825b972d80b2d8f3218c0016c8f101969aa894e84606119.svg" class="inline-math"> corresponds to an isomorphism of maps <img src="img-math/a0234e2be39ebf9ea3fefd03d6ec49d3752b29261df7e552ca2d5f3aaabc3885.svg" class="inline-math"> with <img src="img-math/e565405f06222c12240e950d7c38812a9ac2928afb4a7f758445fa80317c6160.svg" class="inline-math"> marked, and <img src="img-math/ab75903c8535ffad438da6c97d8b01477237f57eed0e6a841c1309d7692de887.svg" class="inline-math"> can be lifted to <img src="img-math/89e0183c41572c3fb8e25738b564a64a5031139a6f07b8de9d770717df413c9c.svg" class="inline-math"> if and only if <img src="img-math/24a30db8016d723ff2bec7c86cdc66175bd709b3697ed70e330a777792df9d05.svg" class="inline-math"> is also marked.
Thus <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> has the right lifting property against the <img src="img-math/1dfe9443953140d41eb5f6b6c83996f242b196e94368a93bf35f3f617396e330.svg" class="inline-math"> if and only if its markings are stable under isomorphism, which is the case if and only if <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> is fibrant.</div>
</div>
<div id="prop-object-generating-triv-cof-lcc" class="theorem-like">
<div class="paragraph">
<h4>Proposition 10.
</h4>
An object of <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math"> is fibrant if and only if it has the right lifting property against all of the following morphisms, all of which are trivial cofibrations in <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math">:
<ol>
<li id="itm-marking-stability">
<div class="paragraph">
The maps <img src="img-math/1dfe9443953140d41eb5f6b6c83996f242b196e94368a93bf35f3f617396e330.svg" class="inline-math"> of Proposition <a href="#prop-object-generating-triv-cof-marked">9</a>.</div>
</li>
<li id="itm-lcc-axioms">
<div class="paragraph">
The morphisms of Definition <a href="#def-lcc-axioms">6</a>.</div>
</li>
<li id="itm-self-unions">
<div class="paragraph">
The maps <img src="img-math/ed4499ed2480c81db39255eb2b6e975f20403b9d9b29e0fb053f36443071563b.svg" class="inline-math">, where <img src="img-math/dd2ece755712f6372a8eadb51124eb95049f5c9cf4941fa846603820f2106651.svg" class="inline-math"> is one of <img src="img-math/55722e719934fb83ba7e195434f12105acc447bd6aad4cf33dd67333d3ae56b6.svg" class="inline-math"> or <img src="img-math/2cf0fb95cd3f364f8262e1923d6fe755ebf25587828d6bcee2d1365904e7a68a.svg" class="inline-math">.</div>
</li>
</ol>
</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
All three types of maps are injective on objects and hence cofibrations in <img src="img-math/e78a0e77c7e7c7ea52c0fade4115b283953e5f06f7f07e7040fcf594a1657ce1.svg" class="inline-math"> and <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math">.
By Proposition <a href="#prop-object-generating-triv-cof-marked">9</a>, the maps <img src="img-math/1dfe9443953140d41eb5f6b6c83996f242b196e94368a93bf35f3f617396e330.svg" class="inline-math"> are trivial cofibrations of lcc-marked categories and hence also trivial cofibrations in <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math">.</div>
<div class="paragraph">
By Proposition <a href="#prop-lcc-model-cat">7</a>, the fibrant objects of <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math"> are precisely the lcc categories.
If <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> is an lcc category and <img src="img-math/41bf3a94be0327c5380d2c936841f065d927af19962bfcc15813c916a987f612.svg" class="inline-math"> is a morphism of type <a href="#itm-lcc-axioms">2</a> or <a href="#itm-self-unions">3</a>, then
<div class="display-math-row">
<img src="img-math/9433aed9eb7ad24175fa9ab805ae738b84b4cebc83535e69a3cc067b49fd5db3.svg">
</div>
is an equivalence of groupoids and hence induces a bijection of isomorphism classes.
It follows by the Yoneda lemma that <img src="img-math/da1c8434d4436c33ba5db5a00bee1b4446a26d0117a667b6b2d7f8f93c013fd0.svg" class="inline-math"> is an isomorphism in <img src="img-math/6379ede22bbaac4495c0e97a63ab26b6f9acc2b58295a959586869320992b1a7.svg" class="inline-math">, so <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> is a weak equivalence in <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math">.</div>
<div class="paragraph">
On the other hand, let <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> be a fibrant lcc-marked category with the right lifting property against morphisms of type <a href="#itm-lcc-axioms">2</a> and the morphisms of type <a href="#itm-self-unions">3</a>.
The right lifting property against <img src="img-math/70589f0eb2c600536b81965b9c07f83b79ceeb3633d080ec8b1b150a9d7886f6.svg" class="inline-math"> and <img src="img-math/62a833f002c7cb68565828335bfbb25c7951252bc35903ceb93744ce8799959b.svg" class="inline-math"> implies that <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked diagrams commute, that every cospan can be completed to a <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked square, and that every square over a cospan factors via every <img src="img-math/35339bd582851e63e9192a2bb688fced451b33528ab02420ce04ac1e2f69e455.svg" class="inline-math">-marked square over the cospan.
Uniqueness of factorizations follows from the right lifting property against the map of type <a href="#itm-self-unions">3</a> corresponding to pullbacks.
Thus <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> has pullbacks, and the argument for terminal objects and dependent products is similar.</div>
</div>
<div class="theorem-like">
<div class="paragraph">
<h4>Definition 11.
</h4>
A <em>strict lcc category</em> is an algebraically fibrant object of <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math"> with respect to the set <img src="img-math/6ee6d2cb1c08f8ac4d5f6bac8bc138d4530459a9e86bfce7888c79c0bd998182.svg" class="inline-math"> consisting of the morphisms of types <a href="#itm-marking-stability">1</a> -- <a href="#itm-self-unions">3</a> of Proposition <a href="#prop-object-generating-triv-cof-lcc">10</a>.
The category of strict lcc categories is denoted by <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math">.</div>
</div>
<div class="theorem-like">
<div class="paragraph">
<h4>Remark 12.
</h4>
The objects in the image of the forgetful functor <img src="img-math/f16eb3b509470354e2580f7889e79f13bcf066bc5af145cbaa8ef6110f1e2b33.svg" class="inline-math"> are the fibrant lcc sketches, i.e. lcc categories.
To endow an lcc category with the structure of a strict lcc category, we need to choose canonical lifts <img src="img-math/c1f13d137a258c17799f449809423808ad79f994a68aaffd6a92c9b65939f6b4.svg" class="inline-math"> against the morphisms <img src="img-math/3e84b87949eae95a98bf91fcea71bcaea35dc81ff05f1f426f10b78b2a9fddbe.svg" class="inline-math">.
Because the lifts against all other morphisms are uniquely determined, only the choices for <img src="img-math/4d7c9eb0ca6aeec52cfe564703ebeb29312cb5a5c0d60e89b3b9af3dbaece3d7.svg" class="inline-math"> and <img src="img-math/a5a2f5cc2ba10249d4215e8ec85db26e1213f7910d6ab1f253ccad8e64240bca.svg" class="inline-math"> are relevant for this.
Thus a strict lcc category is an lcc category with assigned terminal object, pullback squares and dependent products (including the evaluation maps of dependent products).
A strict lcc functor is then an lcc functor that preserves these canonical choices of universal objects not just up to isomorphism but up to equality.</div>
</div>
<div class="paragraph">
The slice category <img src="img-math/aec3fef819d27326397eeb4673c475cea8a43c28a875445d842edb95f4dbf87f.svg" class="inline-math"> over an object <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math"> of an lcc category <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> is lcc again.
A morphism <img src="img-math/eadf330cbab9d71f2c25bbd16a551cb5608faa03c788bcca8eec0874c1141ce9.svg" class="inline-math"> in <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> induces by pullback an lcc functor <img src="img-math/8d5ba2d56753291713a84294691db7d7dc8183fe3ec01e6d31dae171cbd49841.svg" class="inline-math">, and there exist functors <img src="img-math/b316bcf41549c969aa1c847f0d551c3b73677f09563b4f39f38b2ff6f52286e7.svg" class="inline-math"> and adjunctions <img src="img-math/2b8f6de14ffb929372c8fa5403d4f1afa5112ebb9aff3af2fda994dfd7890946.svg" class="inline-math">.
These data depend on choices of pullback squares and dependent products, and hence they are preserved by lcc functors only up to isomorphism.</div>
<div class="paragraph">
For strict lcc categories <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">, however, these functors can be constructed using canonical lcc structure, i.e. using the lifts <img src="img-math/c1f13d137a258c17799f449809423808ad79f994a68aaffd6a92c9b65939f6b4.svg" class="inline-math"> for various <img src="img-math/3e84b87949eae95a98bf91fcea71bcaea35dc81ff05f1f426f10b78b2a9fddbe.svg" class="inline-math">, and this choice is preserved by strict lcc functors.</div>
<div id="prop-strict-slicing" class="theorem-like">
<div class="paragraph">
<h4>Proposition 13.
</h4>
Let <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> be a strict lcc category, and let <img src="img-math/8a669d34a775ef95c4805ac349ed8b5c127ffbe5483582e1df9450a46f2b300c.svg" class="inline-math">.
Then there is a strict lcc category <img src="img-math/5a78e213789e0e085c7ab55356df37564520101f176f22c53d893e4851d04a7d.svg" class="inline-math"> whose underlying category is the slice <img src="img-math/bfcbea47a73e49d68073d8f45f1969ea9530fca3c6099a041adc00363212db8a.svg" class="inline-math">.</div>
<div class="paragraph">
If <img src="img-math/eadf330cbab9d71f2c25bbd16a551cb5608faa03c788bcca8eec0874c1141ce9.svg" class="inline-math"> is a morphism in <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">, then there is a canonical choice of pullback functor <img src="img-math/6a0a4edb0ea199d94673a42ce3c930f1ee8622658c23b9336e6b5b2e747df518.svg" class="inline-math"> which is lcc (but not necessarily strict) and canonical left and right adjoints
<div class="display-math-row">
<img src="img-math/387a8821b2e916ae15834fbe9ed93a755da104faef352fcbd4a4d8c1cef225a0.svg">
</div></div>
<div class="paragraph">
These data are natural in <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">.
Thus if <img src="img-math/0fa07ed6761ae79c704d31d6616ff4f4a6e898576379640a07b44f949bb28090.svg" class="inline-math"> is strict lcc, then the evident functor <img src="img-math/a10aa781b2f9496018150c6f68fa7e2ab4397eab3b210884b310394d6b668b95.svg" class="inline-math"> is strict lcc, and the following squares in <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math"> respectively <img src="img-math/b5e631e2fb35721b83388080c16d0f4e8d5cb54148949aad218de1a98d42980c.svg" class="inline-math"> commute:
<div class="display-math-row">
<img src="img-math/5a4e19e5c7c9d4817129465ea17c6a70dbb732649d4763c1016f553234dc09dc.svg">
</div>
(Here application of <img src="img-math/02ac1ec184b1cc9598e52dd06e72bb5701bc63f2f670e187e7ad4d2a506a3409.svg" class="inline-math"> and <img src="img-math/b73f1f9b75bff380bc6cdcd9bfbbbbe41e8df26e48c21ff2872055b4dffdb708.svg" class="inline-math"> has been omitted; the left square is valued in <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math">, and the two right squares are valued in <img src="img-math/b5e631e2fb35721b83388080c16d0f4e8d5cb54148949aad218de1a98d42980c.svg" class="inline-math">.)
<img src="img-math/28a9880c883db21846cbf4cc0267da31e297775cbf4a298c0e0aa578715c5eca.svg" class="inline-math"> and <img src="img-math/81968bc898c5b8649cce4aaba26dcbc1e5df407ad9507ee11e7f9629326d0b6b.svg" class="inline-math"> commute with taking transposes along the involved adjunctions.</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
We take as canonical terminal object of <img src="img-math/5a78e213789e0e085c7ab55356df37564520101f176f22c53d893e4851d04a7d.svg" class="inline-math"> the identity morphism <img src="img-math/6ba02c543e28167e23ada5abc04d5fa1906a4dd1f5d3aebe46772abe650f8efa.svg" class="inline-math"> on <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math">.
Canonical pullbacks in <img src="img-math/5a78e213789e0e085c7ab55356df37564520101f176f22c53d893e4851d04a7d.svg" class="inline-math"> are computed as canonical pullbacks of the underlying diagram in <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">, and similarly for dependent products.</div>
<div class="paragraph">
The canonical pullback and dependent product functors <img src="img-math/b268eb0bdcc551e8be7e6bfa7c0b54ba4720a11b1fd1f7c166011cafe2e9f694.svg" class="inline-math"> are defined using canonical pullbacks and dependent products, and dependent sum functors <img src="img-math/2d70b4f7a8a17047069109755b53e768291f236d06219d2036b55a96f5f7bfcb.svg" class="inline-math"> are computed by composition with <img src="img-math/a53cf235ab5381d4421e3a0f307e8ce3ff63f7eda9659c2392dd49bb8c38a197.svg" class="inline-math">.
Units and counits of the adjunctions are given by the evaluation maps of canonical dependent products and the projections of canonical pullbacks.</div>
<div class="paragraph">
Because these data are defined in terms of canonical lcc structure on <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">, they are preserved by strict lcc functors.</div>
</div>
<div class="paragraph">
The context morphisms in our categories with families (cwfs) [<a href="#internal-type-theory">11</a>] will usually be defined as functors of categories in the opposite directions.
Cwfs are categories equipped with contravariant functors to <img src="img-math/84b953a96e26523ff25141cd0a9456e994da552c34f125ae2d43403b2972b8f6.svg" class="inline-math">, the category of families of sets.
To avoid having to dualize twice, we thus introduce the following notion.</div>
<div class="theorem-like">
<div class="paragraph">
<h4>Definition 14.
</h4>
A <em>covariant cwf</em> is a category <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> equipped with a (covariant) functor <img src="img-math/c9dc4826ee7f5555de23aa22b64e5f25dd96737dc607359bcbfbd36d694284df.svg" class="inline-math">.</div>
</div>
<div class="paragraph">
The intuition for a context morphism <img src="img-math/0fa07ed6761ae79c704d31d6616ff4f4a6e898576379640a07b44f949bb28090.svg" class="inline-math"> in a cwf is an assignment of terms in <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> to the variables occurring in <img src="img-math/f8aed8afd75e1b9c109a26f594e0ca904d05d99cb6a44ec643fb9cb0b324872f.svg" class="inline-math">.
Dually, a morphism <img src="img-math/de9a2f2814b2db9b1df6ed81eee5a329690243b2cc36fd5a4af9f1db589cc026.svg" class="inline-math"> in a covariant cwf should thus be thought of as a mapping of the variables in <img src="img-math/f8aed8afd75e1b9c109a26f594e0ca904d05d99cb6a44ec643fb9cb0b324872f.svg" class="inline-math"> to terms in context <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">, or more conceptually as an interpretation of the mathematics internal to <img src="img-math/f8aed8afd75e1b9c109a26f594e0ca904d05d99cb6a44ec643fb9cb0b324872f.svg" class="inline-math"> into the mathematics internal to <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">.</div>
<div class="paragraph">
Apart from our use of covariant cwfs, we adhere to standard terminology with the obvious dualization.
For example, an empty context in a covariant cwf is an initial (instead of terminal) object in the underlying category.</div>
<div class="paragraph">
To distinguish type and term formers in (covariant) cwfs from the corresponding categorical structure, the type theoretic notions are typeset in bold where confusion is possible.
Thus <img src="img-math/7bc89ad564a3c1a68c100d6852d36b791d47d4fe79b2af4389572f011c50d881.svg" class="inline-math"> denotes a dependent product type whereas <img src="img-math/aeef8b00b518d4c5c6d0df729c66c486d3338ffb20701095b5743f44f13cdeeb.svg" class="inline-math"> denotes application of a dependent product functor <img src="img-math/d93c8315c205b33026d967c767018d112fa1eee7283a2da3cf82e6151400309d.svg" class="inline-math"> to an object <img src="img-math/85b8af72ed93820844f600746b519f63a8f960cae36ed1afd81f684c183a6585.svg" class="inline-math">.</div>
<div class="theorem-like">
<div class="paragraph">
<h4>Definition 15.
</h4>
The covariant cwf structure on <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math"> is given by <img src="img-math/d687e43dc98bfc903d3b32217c05a0b29f084024552f0785fc4c23cdcac127df.svg" class="inline-math"> and <img src="img-math/a097662c33abaf21d2f661477b8d9598b90cefd6383fb11adb201a83264b4482.svg" class="inline-math">, where <img src="img-math/92757f9a5d802657ae1c7af9ce6ad10cb8197193988a2ae4a38cf86154eb1414.svg" class="inline-math"> denotes the canonical terminal object of <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">.</div>
</div>
<div id="prop-slcc-model" class="theorem-like">
<div class="paragraph">
<h4>Proposition 16.
</h4>
The covariant cwf <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math"> has an empty context and context extensions, and it supports finite product and extensional equality types.</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
It follows from Theorem <a href="#th-algebraically-fibrant-model-category">18</a> below that <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math"> is cocomplete and that <img src="img-math/f16eb3b509470354e2580f7889e79f13bcf066bc5af145cbaa8ef6110f1e2b33.svg" class="inline-math"> has a left adjoint <img src="img-math/226ce02b3a581793bfde324394a04e9189b721d933431d91210c37b7da09d8da.svg" class="inline-math">.
In particular, there exists an initial strict lcc category, i.e. an empty context in <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math">.</div>
<div class="paragraph">
Let <img src="img-math/e49aa41f7b570bf330c2504f3a0495ffd24da704c2bf9544f8d080a67e4ef86e.svg" class="inline-math">.
The context extension <img src="img-math/4df0bf66ff002681fda94818225f7a028c6a92b1eb2f4a3c96f69a9c1d13eac6.svg" class="inline-math"> is constructed as pushout
<div id="eq-slcc-context-extension" class="display-math-row">
<img src="img-math/1989f9ef576236d184f54c8147ff48787d575eb7a788b92c922a79a9b359d857.svg">
</div>
where <img src="img-math/4ebc9764398fad443eeb9a6b1be0c5afcbdf321ed477b006e8365618575f1914.svg" class="inline-math"> denotes a minimally marked lcc sketch with two objects and <img src="img-math/c4f33cb88ee14d5cb7bd9e4f7b899acfc7fa42f36e7d1f80f5c8ecf0554918ca.svg" class="inline-math"> is the minimally marked free-standing arrow.
The vertical morphism on the left is induced by mapping <img src="img-math/31da59226089717b0fd7e061b3dba13e20f69078642fd752d80ecaa39fa58b4d.svg" class="inline-math"> to <img src="img-math/92757f9a5d802657ae1c7af9ce6ad10cb8197193988a2ae4a38cf86154eb1414.svg" class="inline-math"> (the canonical terminal object of <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">) and <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math"> to <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math">, and the top morphism is the evident inclusion.
The variable <img src="img-math/e7c6b8a4cee7b01e94c24983ce8218d51ab64bd611cbe9b6eaf92ccb19a17eb7.svg" class="inline-math"> is given by the image of <img src="img-math/d36bc99241e7edf2d5d3bd6a3e5ac7d414ed473b35ed6ec7ddf692c2ad3ba565.svg" class="inline-math"> in <img src="img-math/4df0bf66ff002681fda94818225f7a028c6a92b1eb2f4a3c96f69a9c1d13eac6.svg" class="inline-math">.</div>
<div class="paragraph">
Unit types <img src="img-math/aeceabe050ee18c6404f1032c497b6e51d1f19c7ccb8ad2269bdd79b5f5b8df4.svg" class="inline-math"> are given by the canonical terminal objects of strict lcc categories <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">.
Binary product types <img src="img-math/d43ca587a3bb396bd356636a6be5e217158e62a6271d26fde3634b136a092780.svg" class="inline-math"> are given by canonical pullbacks <img src="img-math/3b282ac4d93c3f567c3d0f414600ad808249f61c4a579d8cf31e9983f879e1d0.svg" class="inline-math"> over the canonical terminal object <img src="img-math/92757f9a5d802657ae1c7af9ce6ad10cb8197193988a2ae4a38cf86154eb1414.svg" class="inline-math"> in <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">.
Finally, equality types <img src="img-math/0f3cba1e0b8536959ed7a804f0e28f18e9efaf6daadbbb7443ec353de84a9603.svg" class="inline-math"> are constructed as canonical pullbacks
<div class="display-math-row">
<img src="img-math/6c81865cb81a77e479203e7a036d00c54d524bb6d257f536a04a585baacb5363.svg">
</div>
in <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">, i.e. as equalizers of <img src="img-math/a53cf235ab5381d4421e3a0f307e8ce3ff63f7eda9659c2392dd49bb8c38a197.svg" class="inline-math"> and <img src="img-math/31da59226089717b0fd7e061b3dba13e20f69078642fd752d80ecaa39fa58b4d.svg" class="inline-math">.</div>
<div class="paragraph">
Because these type constructors (and evident term formers) are defined from canonical lcc structure, they are stable under substitution.</div>
</div>
<div id="rem-slcc-slice-problem" class="theorem-like">
<div class="paragraph">
<h4>Remark 17.
</h4>
Unfortunately, <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math"> does not support dependent product or dependent sum types in a similarly obvious way.
The introduction rule for dependent types is
<div class="display-math-row">
<img src="img-math/dbaccd89d539f554f2b7c6e862736089029f0532e1ec884cb1c18283ee1cb2b4.svg">
</div>
To interpret it, we would like to apply the dependent product functor <img src="img-math/355bb0e0315b17d1029e1a4ce20779ae601624437e1637a1f28b2290365b27e5.svg" class="inline-math"> to <img src="img-math/77e056b9f4f87e57b862bf59cd3ffd0f52d56ccc25d35b87c586a0f3e0d082c4.svg" class="inline-math">.</div>
<div class="paragraph">
We thus need a functor <img src="img-math/1ef035e7a32f3416b215de16eeea9b7dd5f1ca27dd58958bb759031fe3ef6d25.svg" class="inline-math"> to obtain an object of the slice category, and the construction of such a functor appears to be not generally possible.
Note that the most natural strategy for constructing this functor using the universal property of <img src="img-math/4df0bf66ff002681fda94818225f7a028c6a92b1eb2f4a3c96f69a9c1d13eac6.svg" class="inline-math"> does not work:
For this we would note that the pullback functor <img src="img-math/065a45b869280206a56b1380b4d36611bbda12a8fd7e4145ec9f86df2d119cd3.svg" class="inline-math"> is lcc, and that the diagonal <img src="img-math/11ef9d47b6412d0824aaa8758e930440a82db8b951d25cf024377f0ac1f5c2ad.svg" class="inline-math"> is a morphism <img src="img-math/6cdca3fc01dad1143616c1cb8437f0d4bdf39c01aed101fe4bfe1d226f2c219a.svg" class="inline-math"> in <img src="img-math/5a78e213789e0e085c7ab55356df37564520101f176f22c53d893e4851d04a7d.svg" class="inline-math">, and then try to obtain <img src="img-math/e73acf1843989d56f561aae39fc3b93727af4bc27318b55b9dda4262412d2726.svg" class="inline-math">.
The flaw in this argument is that <img src="img-math/7877f9d9dd6000dfe0afb4b654a9d8e090f96f0785f0b1bf8fa453a1ac385d51.svg" class="inline-math">, while lcc, is not strict, and the universal property of <img src="img-math/4df0bf66ff002681fda94818225f7a028c6a92b1eb2f4a3c96f69a9c1d13eac6.svg" class="inline-math"> only applies to strict lcc functors.
A solution to this problem is presented in Section <a href="#sec-algebraically-cofibrant">4</a>.</div>
</div>
<div class="paragraph">
We conclude the section with a justification for why we have not gone astray so far:
The initial claim was that our interpretation of type theory would be valued in the category of lcc categories, but <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math"> is neither 1-categorically nor bicategorically equivalent to the category <img src="img-math/16c682b3a8402a5cd52a7c275ab1d42b23658e2f01ce8c3964f1f2e59c03feef.svg" class="inline-math"> of fibrant lcc sketches.
Indeed, not every non-strict lcc functor of strict lcc categories is isomorphic to a strict lcc functor.
Nevertheless, <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math"> has model category structure that presents the same higher category of lcc categories by the following theorem:</div>
<div id="th-algebraically-fibrant-model-category" class="theorem-like">
<div class="paragraph">
<h4>Theorem 18 <span class="theorem-note">([<a href="#algebraic-models">18</a>] Proposition 2.4, [<a href="#equipping-weak-equivalences">6</a>] Theorem 19)</span>.
</h4>
Let <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> be a combinatorial model category, and let <img src="img-math/6ee6d2cb1c08f8ac4d5f6bac8bc138d4530459a9e86bfce7888c79c0bd998182.svg" class="inline-math"> be a set of trivial cofibrations such that objects with the right lifting property against <img src="img-math/6ee6d2cb1c08f8ac4d5f6bac8bc138d4530459a9e86bfce7888c79c0bd998182.svg" class="inline-math"> are fibrant.
Then <img src="img-math/f30b198b2d93c547ffeeb13b473e46d0129e88651e0eda3adcc23eeabc2c9814.svg" class="inline-math"> is monadic with left adjoint <img src="img-math/226ce02b3a581793bfde324394a04e9189b721d933431d91210c37b7da09d8da.svg" class="inline-math">, and <img src="img-math/d834bcaebd7608420e192404353c827017184fb612c9184a7d57185250be3ad5.svg" class="inline-math"> is a locally presentable category.
The model structure of <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> can be transferred along the adjunction <img src="img-math/cf6463620c6b661e052e7c742b3cdaa0c67ff86c388e2513b4bbbba357647788.svg" class="inline-math"> to <img src="img-math/d834bcaebd7608420e192404353c827017184fb612c9184a7d57185250be3ad5.svg" class="inline-math">, endowing <img src="img-math/d834bcaebd7608420e192404353c827017184fb612c9184a7d57185250be3ad5.svg" class="inline-math"> with the structure of a combinatorial model category.
<img src="img-math/cf6463620c6b661e052e7c742b3cdaa0c67ff86c388e2513b4bbbba357647788.svg" class="inline-math"> is a Quillen equivalence, and the unit <img src="img-math/70e037c3bdac3b59bfa4438803b93acae9bf8b3de7eecce4b6295c87baa9f11f.svg" class="inline-math"> is a trivial cofibration for all <img src="img-math/8137d5ec4e8f162e7fcd06e613f2d10a0df12c82d4e17f803c2a5c5055c578a1.svg" class="inline-math">.</div>
</div>
<div class="paragraph">
Theorem <a href="#th-algebraically-fibrant-model-category">18</a> appears in [<a href="#algebraic-models">18</a>] with the additional assumption that all cofibrations in <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> are monomorphisms.
This assumption is lifted in [<a href="#equipping-weak-equivalences">6</a>], but there <img src="img-math/6ee6d2cb1c08f8ac4d5f6bac8bc138d4530459a9e86bfce7888c79c0bd998182.svg" class="inline-math"> is a set of generating trivial cofibrations, which is a slightly stronger condition than the one stated in the theorem.
However, the proof in [<a href="#equipping-weak-equivalences">6</a>] works without change in the more general setting.</div>
<div class="paragraph">
That the model structure of <img src="img-math/d834bcaebd7608420e192404353c827017184fb612c9184a7d57185250be3ad5.svg" class="inline-math"> is obtained by transfer from that of <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> means that <img src="img-math/02ac1ec184b1cc9598e52dd06e72bb5701bc63f2f670e187e7ad4d2a506a3409.svg" class="inline-math"> reflects fibrations and weak equivalences.</div>
<div id="lem-algebraically-fibrant-lproper-simplicial" class="theorem-like">
<div class="paragraph">
<h4>Lemma 19.
</h4>
Let <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> and <img src="img-math/6ee6d2cb1c08f8ac4d5f6bac8bc138d4530459a9e86bfce7888c79c0bd998182.svg" class="inline-math"> be as in Theorem <a href="#th-algebraically-fibrant-model-category">18</a>, and suppose furthermore that <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> is a model <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category.
Then <img src="img-math/d834bcaebd7608420e192404353c827017184fb612c9184a7d57185250be3ad5.svg" class="inline-math"> has the structure of a model <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category, and the adjunction <img src="img-math/cf6463620c6b661e052e7c742b3cdaa0c67ff86c388e2513b4bbbba357647788.svg" class="inline-math"> lifts to a Quillen <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-adjunction.</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
Let <img src="img-math/9bd95d1e476769a7b26e69e93aed5cd3b77188955417daed853a4fd425344457.svg" class="inline-math"> and <img src="img-math/7e1c8e5967ab89ce210753a07c713324b319d3df7086ca921f8d65d336a1d347.svg" class="inline-math"> be algebraically fibrant objects.
We define the mapping groupoid <img src="img-math/1174f8c18e44a506bee56748f2b09a1a0355782e065a7e0656686130a33b7b08.svg" class="inline-math"> to be the full subgroupoid of <img src="img-math/6c4e30650ad54a3059765e2bf21b5fefaa3efb520e969e4c09fb59a0b2b43ea1.svg" class="inline-math"> whose objects are the maps of algebraically fibrant objects <img src="img-math/a47b43c12ade914fe64b4eef55fac3270ffeafa9d0035539f2f380c6381068f8.svg" class="inline-math">.</div>
<div class="paragraph">
Because <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math"> is generated under colimits by the free-standing isomorphism <img src="img-math/0e6714765e2b114297de1256079bc46ed9cdc28b3a6870866fbed52596477bcb.svg" class="inline-math">, it will follow from the existence of powers <img src="img-math/c14dfc9456972eac361d68af4c605c027f532e852dfda1ef2b38b1ddf839a981.svg" class="inline-math"> that <img src="img-math/d834bcaebd7608420e192404353c827017184fb612c9184a7d57185250be3ad5.svg" class="inline-math"> is complete as a <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category.
As we will later show that <img src="img-math/02ac1ec184b1cc9598e52dd06e72bb5701bc63f2f670e187e7ad4d2a506a3409.svg" class="inline-math"> is a right adjoint, the powers in <img src="img-math/d834bcaebd7608420e192404353c827017184fb612c9184a7d57185250be3ad5.svg" class="inline-math"> must be constructed such that they commute with <img src="img-math/02ac1ec184b1cc9598e52dd06e72bb5701bc63f2f670e187e7ad4d2a506a3409.svg" class="inline-math">, i.e. <img src="img-math/dda2e73029721d7c0dcaeeaa6a19f3710dea0a072bda984e0a573a19c11ef144.svg" class="inline-math">.</div>
<div class="paragraph">
Let <img src="img-math/e9ff263519a7b87fb7fdd6ce2d6ec24b0d9ecfeb279307326b22878ba1589268.svg" class="inline-math"> be in <img src="img-math/6ee6d2cb1c08f8ac4d5f6bac8bc138d4530459a9e86bfce7888c79c0bd998182.svg" class="inline-math"> and let <img src="img-math/fa373ab7a37ebaf14ce5f4127a155f1573f5ce0a618d1fe8131eda857fe66870.svg" class="inline-math">.
The canonical lift <img src="img-math/89d6cf93a99855e0dab041b4cd49a3cf9604eb877fb91884a4dca87a8cd8cd3b.svg" class="inline-math"> is constructed as follows:
<img src="img-math/ab75903c8535ffad438da6c97d8b01477237f57eed0e6a841c1309d7692de887.svg" class="inline-math"> corresponds to a map <img src="img-math/9e6a53b4fa25604cc2895b2401673d623d9eaee36025820e16649c5f41e8fbb4.svg" class="inline-math">, i.e. an isomorpism of maps <img src="img-math/9599bd929e1a1e001fa69f576a78fd3b4487010b56d918b94b407655b9c742f8.svg" class="inline-math">.
Its source and target are morphisms <img src="img-math/59f3f38c3ef95b4194869c50ef9b10f49ca79ca9f067f16726778979c1f95a01.svg" class="inline-math">, for which we obtain canonical lifts <img src="img-math/132c0cbdaa7fb23997e50ffd20ffeca0da01405bd9438a88038009362d39e5c8.svg" class="inline-math"> using the canonical lifts of <img src="img-math/9bd95d1e476769a7b26e69e93aed5cd3b77188955417daed853a4fd425344457.svg" class="inline-math">.
Because <img src="img-math/03c1d312fa833670397aa618ef2b5cf65871ea289a627a1b4f9563f6adde36c2.svg" class="inline-math"> is fibrant and <img src="img-math/cd021f380b786f0aa74f58cb623843fc86543cd4ee938ac39cd4c7161bc72dc8.svg" class="inline-math"> is a trivial cofibration, the map <img src="img-math/d9bb81d64f4b5d78dfd8b9cc2c63974d1d85edbc1133130cf29ee3cae434d90a.svg" class="inline-math"> is a trivial fibration and in particular an equivalence.
It follows that <img src="img-math/420273889f397a1a7729985f436b94eabd98ba165ea5022eaee5a97e75fb3e48.svg" class="inline-math"> can be lifted uniquely to an isomorphism of <img src="img-math/581eec1157cfd329ece2cfd6bf137f7e5e149c7ebbd3c763e2387e456c8b3938.svg" class="inline-math"> with <img src="img-math/8adadddd28a8c00d7315dd6fddd532b39ad30543cadd9e9afc41b58e38afe13f.svg" class="inline-math">, and we take <img src="img-math/89d6cf93a99855e0dab041b4cd49a3cf9604eb877fb91884a4dca87a8cd8cd3b.svg" class="inline-math"> as this isomorphism's transpose.</div>
<div class="paragraph">
From uniqueness of the lift defining <img src="img-math/9aee9e9c7cd5d411293b241606e31f80f60e13aff5aa98260dcd03fb5fea0ee1.svg" class="inline-math">, it follows that a map <img src="img-math/9bc6d4738667d93b6940458d9baf29597ab7e598af8be2b97bfac8c7092611e9.svg" class="inline-math"> preserves canonical lifts if and only if the two maps
<div class="display-math-row">
<img src="img-math/5d612d4c2cdc255dbf315b7f2f84812e90bb156731874f8c1654c3062292205c.svg">
</div>
given by evaluation at the endpoints <img src="img-math/d909a33503a90c833f8dbadac305b4241fa4cd3b8f8aa2d3e850a23e2c95efa8.svg" class="inline-math"> of the isomorphism <img src="img-math/0e6714765e2b114297de1256079bc46ed9cdc28b3a6870866fbed52596477bcb.svg" class="inline-math"> preserve canonical lifts.
Thus the canonical isomorphism
<div class="display-math-row">
<img src="img-math/ed6badeeb49adf897b260883050fe636aacd7da3791b4f8d37127ce422c7e549.svg">
</div>
restricts to an isomorphism
<div class="display-math-row">
<img src="img-math/290b5a04be93d9f062bba2c9e326f3d0645f8bae52da78e9d548f3d59d3ebfb9.svg">
</div></div>
<div class="paragraph">
It follows by [<a href="#basic-concepts-of-enriched-category-theory">1</a>, theorem 4.85] and the preservation of powers by <img src="img-math/02ac1ec184b1cc9598e52dd06e72bb5701bc63f2f670e187e7ad4d2a506a3409.svg" class="inline-math"> that the 1-categorical adjunction <img src="img-math/cf6463620c6b661e052e7c742b3cdaa0c67ff86c388e2513b4bbbba357647788.svg" class="inline-math"> is groupoid enriched.
It is proved in [<a href="#algebraic-models">18</a>] that <img src="img-math/02ac1ec184b1cc9598e52dd06e72bb5701bc63f2f670e187e7ad4d2a506a3409.svg" class="inline-math">, when considered as a functor of ordinary categories, is monadic using Beck's monadicity theorem.
The only additional assumption for the enriched version of Beck's theorem [<a href="#enriched-kan-extensions">10</a>, theorem II.2.1] we have to check is that the coequalizer of a <img src="img-math/02ac1ec184b1cc9598e52dd06e72bb5701bc63f2f670e187e7ad4d2a506a3409.svg" class="inline-math">-split pair of morphisms as constructed in [<a href="#algebraic-models">18</a>] is a colimit also in the enriched sense.
This follows immediately from the fact that <img src="img-math/02ac1ec184b1cc9598e52dd06e72bb5701bc63f2f670e187e7ad4d2a506a3409.svg" class="inline-math"> is locally full and faithful.
<img src="img-math/02ac1ec184b1cc9598e52dd06e72bb5701bc63f2f670e187e7ad4d2a506a3409.svg" class="inline-math"> is <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-monadic and accessible, so <img src="img-math/d834bcaebd7608420e192404353c827017184fb612c9184a7d57185250be3ad5.svg" class="inline-math"> is <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-cocomplete by [<a href="#two-dimensional-monad-theory">5</a>, theorem 3.8].</div>
<div class="paragraph">
It remains to show that <img src="img-math/d834bcaebd7608420e192404353c827017184fb612c9184a7d57185250be3ad5.svg" class="inline-math"> is groupoid enriched also in the model categorical sense.
For this it suffices to note that <img src="img-math/02ac1ec184b1cc9598e52dd06e72bb5701bc63f2f670e187e7ad4d2a506a3409.svg" class="inline-math"> preserves (weighted) limits and that <img src="img-math/02ac1ec184b1cc9598e52dd06e72bb5701bc63f2f670e187e7ad4d2a506a3409.svg" class="inline-math"> preserves and reflects fibrations and weak equivalences, so that the map
<div class="display-math-row">
<img src="img-math/b459db8a64f6df079958b6e1bdf8be7070fdcfc40984205cf9ce2c5dbf696427.svg">
</div>
induced by a cofibration of groupoids <img src="img-math/f97df0b206760960750a2daa2f02b142234b2fa530affaffbccf7dce89a6abe1.svg" class="inline-math"> and a fibration <img src="img-math/701e704a5a611d54206b6a35bb7ff26f2dc42a7ca4e41cf9ff16148c6870b078.svg" class="inline-math"> in <img src="img-math/d834bcaebd7608420e192404353c827017184fb612c9184a7d57185250be3ad5.svg" class="inline-math"> is a fibration and a weak equivalence if either <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> or <img src="img-math/080237251272c801041ea2a4d2f65b3bae8e8ad91a515098993fa2aa03685a70.svg" class="inline-math"> is a weak equivalence.</div>
</div>
<div class="theorem-like">
<div class="paragraph">
<h4>Remark 20.
</h4>
[<a href="#homotopy-theoretic-aspects">14</a>] defines model category structure on <img src="img-math/614bf7a5765a5dbde3cfa610b016ea1077d9a38d5ae28f9a11b7da2652da4c62.svg" class="inline-math">, the category of strict algebras and their strict morphisms for a 2-monad <img src="img-math/ca078a25e979299ccf166665b3fa0e50ec7ebfc4e12c05363a1a7a0212cbef8c.svg" class="inline-math"> on a model <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category.
If we choose for <img src="img-math/ca078a25e979299ccf166665b3fa0e50ec7ebfc4e12c05363a1a7a0212cbef8c.svg" class="inline-math"> the monad on <img src="img-math/b5e631e2fb35721b83388080c16d0f4e8d5cb54148949aad218de1a98d42980c.svg" class="inline-math"> assigning to every category the free lcc category generated by it, then <img src="img-math/614bf7a5765a5dbde3cfa610b016ea1077d9a38d5ae28f9a11b7da2652da4c62.svg" class="inline-math"> is <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-equivalent to <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math">, so it is natural ask whether their model category structures agree.</div>
<div class="paragraph">
The model category structure on <img src="img-math/614bf7a5765a5dbde3cfa610b016ea1077d9a38d5ae28f9a11b7da2652da4c62.svg" class="inline-math"> is defined by transfer from <img src="img-math/b5e631e2fb35721b83388080c16d0f4e8d5cb54148949aad218de1a98d42980c.svg" class="inline-math">, i.e. such that the forgetful functor <img src="img-math/f1f12f931b912d7116145a35956b5d466c65cc8f59579da5768f6fd4a7f19be9.svg" class="inline-math"> reflects fibrations and weak equivalences.
The same is true for <img src="img-math/1c72fd47007a9dd3f9c44a198c44c6018bdb440a36ac294aba080f517105a934.svg" class="inline-math">, and this functor is valued in the fibrant objects of <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math">.
The restriction of the functor <img src="img-math/0f926e7340d6061236f84e32f3d4dd64c4927b28a3966772e25b0403c48d2b74.svg" class="inline-math"> to fibrant objects reflects weak equivalences and trivial fibrations because equivalences of categories preserve and reflect universal objects that exist in domain and codomain.
Thus <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math"> and <img src="img-math/614bf7a5765a5dbde3cfa610b016ea1077d9a38d5ae28f9a11b7da2652da4c62.svg" class="inline-math"> have the same sets of weak equivalences and trivial fibrations, hence their model category structures coincide.</div>
</div>
<h2 id="sec-algebraically-cofibrant">
4 Algebraically cofibrant strict lcc categories</h2>
<div class="paragraph">
As noted in Remark <a href="#rem-slcc-slice-problem">17</a>, to interpret dependent sum and dependent product types in <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math">, we would need to relate context extensions <img src="img-math/4df0bf66ff002681fda94818225f7a028c6a92b1eb2f4a3c96f69a9c1d13eac6.svg" class="inline-math"> to slice categories <img src="img-math/5a78e213789e0e085c7ab55356df37564520101f176f22c53d893e4851d04a7d.svg" class="inline-math">.
In this section we discuss how this problem can be circumvented by considering yet another Quillen equivalent model category: The category of algebraically <em>cofibrant</em> strict lcc categories.</div>
<div class="paragraph">
The slice category <img src="img-math/f73859ec07728f47335b06884c3bb347e2f9d7cbfed8db93338478e493412ac1.svg" class="inline-math"> of an lcc category <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> is bifreely generated by (any choice of) the pullback functor <img src="img-math/a4c6564772eb01acc3c6ca4e0c60094c74ae38ed95823a3a9174575d0684fc6f.svg" class="inline-math"> and the diagonal <img src="img-math/01c1f08e32f26bfce1445fffe9999ed83798f118d3aa7ab502d3894e3e521ddb.svg" class="inline-math">, viewed as a morphism <img src="img-math/9609d635015eefbf5bdd32d0d71c9a7d4723998e30d8169b9fa30cca4cca11b6.svg" class="inline-math"> in <img src="img-math/f73859ec07728f47335b06884c3bb347e2f9d7cbfed8db93338478e493412ac1.svg" class="inline-math">:
Given a pair of lcc functor <img src="img-math/edd53f1e7878b223c12588b8436b85e2e4ba17c1d0c05a102d4385661eb25597.svg" class="inline-math"> and morphism <img src="img-math/7d01541f1c5cb308918465c5d176d65300fbe661fd2f76a1d9d2adf2934cd0b3.svg" class="inline-math"> in <img src="img-math/3a76d09466f5b48b74b01612b53eb2c10acce0ef286b11e45e0bab4419ba3163.svg" class="inline-math">, there is an lcc functor <img src="img-math/da28ad0a0a97cae9725966e2dc0ef0db63226a27e32d2c6e02c133fcac682869.svg" class="inline-math"> that commutes with <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> and <img src="img-math/d4937afe38e40bb58463f36cee11ef06c0962686d44b38f261b525c168eb1e00.svg" class="inline-math"> up to a natural isomorphism under which <img src="img-math/ed99a909e49651761759007b53bfeb2b849198e049e3182240f9cbe77d16979c.svg" class="inline-math"> corresponds to <img src="img-math/a53cf235ab5381d4421e3a0f307e8ce3ff63f7eda9659c2392dd49bb8c38a197.svg" class="inline-math">, and every other lcc functor with this property is uniquely isomorphic to <img src="img-math/080237251272c801041ea2a4d2f65b3bae8e8ad91a515098993fa2aa03685a70.svg" class="inline-math">.</div>
<div class="paragraph">
Phrased in terms of model category theory, this biuniversal property amounts to asserting that the square
<div id="eq-homotopy-pushout-lcc" class="display-math-row">
<img src="img-math/8f853e0fa753dfdcdffb0f24c8ac7eaa7ae01931a7db109c8c4f79bccf1706c7.svg">
</div>
is a homotopy pushout square in <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math">.
Here <img src="img-math/fa5957e8f7246f626949a4277a766feeee6aabfbb67ae81b3e3801aeba40fdca.svg" class="inline-math"> denotes the discrete category with two objects and no markings, from which <img src="img-math/3814c04b276c017185e4e53e9519dea1d6ed3b3b4a2dec1c7430b6fd26c45d26.svg" class="inline-math"> is obtained by adjoining a single morphism <img src="img-math/bab3531d3c6c5399e485757c836790d318b0510f435b7545cae4c4ed88ae374f.svg" class="inline-math">.
The left vertical map <img src="img-math/69b25162ca396e77e6f60d99fdc00ea80edc24afa642376f5a3474667488c875.svg" class="inline-math"> maps <img src="img-math/31da59226089717b0fd7e061b3dba13e20f69078642fd752d80ecaa39fa58b4d.svg" class="inline-math"> to some terminal object and <img src="img-math/a169a8d1c1e37170ff145d0db50b1d71d409be6cb14eab73d7e48a7213796773.svg" class="inline-math"> to <img src="img-math/a169a8d1c1e37170ff145d0db50b1d71d409be6cb14eab73d7e48a7213796773.svg" class="inline-math">, and the right vertical map maps <img src="img-math/a455973db032aa33c7913b08a0e71f6d4e128bbe66653e450b42db49479a671f.svg" class="inline-math"> to the diagonal <img src="img-math/f4954e15ad02016ad510796be5b01e9606c96cec3482f7be51fbd697c5d4fdea.svg" class="inline-math"> in <img src="img-math/f73859ec07728f47335b06884c3bb347e2f9d7cbfed8db93338478e493412ac1.svg" class="inline-math">.</div>
<div class="paragraph">
Recall from Proposition <a href="#prop-slcc-model">16</a> that a context extension <img src="img-math/4df0bf66ff002681fda94818225f7a028c6a92b1eb2f4a3c96f69a9c1d13eac6.svg" class="inline-math"> in <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math"> is defined by the 1-categorical pushout square
<div id="eq-slcc-context-extension-2" class="display-math-row">
<span>(3)</span>
<img src="img-math/8e81edc986fc10d3e60c54d56ae7e71f8d25429466e1098f27e0593695d9936e.svg">
<span>(3)</span>
</div>
Because <img src="img-math/cf6463620c6b661e052e7c742b3cdaa0c67ff86c388e2513b4bbbba357647788.svg" class="inline-math"> is a Quillen equivalence, we should thus expect to find weak equivalences relating <img src="img-math/5a78e213789e0e085c7ab55356df37564520101f176f22c53d893e4851d04a7d.svg" class="inline-math"> to <img src="img-math/4df0bf66ff002681fda94818225f7a028c6a92b1eb2f4a3c96f69a9c1d13eac6.svg" class="inline-math"> if the pushout <a href="#eq-slcc-context-extension-2">(3)</a> is also a <em>homotopy</em> pushout.</div>
<div class="paragraph">
By [<a href="#higher-topos-theory">16</a>, Proposition A.2.4.4], this is the case if <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">, <img src="img-math/d83392242aa0c1c872add8d41a8bb0d8fe91a7e28e8dcfdf587155f343eef88b.svg" class="inline-math"> and <img src="img-math/fa3640b70f35f0570b92ccaeb1ec02dc0d8800eb8a1baee4ff30dbac4fd7959e.svg" class="inline-math"> are cofibrant, and the map <img src="img-math/cfb273e71fd72891d68630016ca76ba0eb9299edc3d3b99b187648068d543da7.svg" class="inline-math"> is a cofibration.
The cofibrations of <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math"> are the maps which are injective on objects.
It follows that <img src="img-math/c55b17bf4b7def6d88eed31213aaf9020a2501adc23db4a8d0f521d66c1897ac.svg" class="inline-math"> and <img src="img-math/8b25453a39a431e9d6b01b4c1cc5ce5acda99a88b148a065d935eb7772e750f2.svg" class="inline-math"> are cofibrant lcc sketches, and that the inclusion of the former into the latter is a cofibration.
<img src="img-math/226ce02b3a581793bfde324394a04e9189b721d933431d91210c37b7da09d8da.svg" class="inline-math"> is a left Quillen functor and hence preserves cofibrations.
Thus the pushout <a href="#eq-slcc-context-extension-2">(3)</a> is a homotopy pushout if <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> is cofibrant.</div>
<div class="paragraph">
Note that components of the counit <img src="img-math/f6dc4d0c48bd68bf72461f336130c467f3eb331781f03809022386044d57a6ce.svg" class="inline-math"> are cofibrant replacements:
Every lcc sketch is cofibrant in <img src="img-math/2d808504bfaa20f89158ca84af935f5ee006423fd1740f69e21e0c3b639d0552.svg" class="inline-math">, every strict lcc category is fibrant in <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math">, and <img src="img-math/cf6463620c6b661e052e7c742b3cdaa0c67ff86c388e2513b4bbbba357647788.svg" class="inline-math"> is a Quillen equivalence.
It follows that a strict lcc category <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> is cofibrant if and only if the counit <img src="img-math/dc66b7b9facb1dc512770caa8f01a518bb7fc03c8d5b3ae947c192590dce074b.svg" class="inline-math"> is a retraction, say with section <img src="img-math/6729cf67f9f2a9b9959dd8b27ddd77edf2c90ae6ae89c147da0817b3f6178b00.svg" class="inline-math">.</div>
<div class="paragraph">
And indeed, this section can be used to strictify the pullback functor.
We have <img src="img-math/065a45b869280206a56b1380b4d36611bbda12a8fd7e4145ec9f86df2d119cd3.svg" class="inline-math">, which induces a strict lcc functor <img src="img-math/ea14760dab6a02bdb159d2c75bf275279d978222a32357c5ae8a73632169df52.svg" class="inline-math">.
Now let
<div class="display-math-row">
<img src="img-math/c2979b27d0335ea855629378154bd0c5a63b0d3f7afb17d56bf519bdffcf74b0.svg">
</div>
which is naturally isomorphic to <img src="img-math/7877f9d9dd6000dfe0afb4b654a9d8e090f96f0785f0b1bf8fa453a1ac385d51.svg" class="inline-math">.
Adjusting the domain and codomain of the diagonal <img src="img-math/a455973db032aa33c7913b08a0e71f6d4e128bbe66653e450b42db49479a671f.svg" class="inline-math"> suitably to match <img src="img-math/919e04ed665e647de0a9a981ae32acc7b5c42b86ddcb1d4a52d92edb0dfd3d8d.svg" class="inline-math">, we thus obtain the desired comparison functor <img src="img-math/c9e7303e809c1121b18cc8a4a025c7b4b662d0fdf53f54da51a4313fc0e93ed1.svg" class="inline-math">.</div>
<div class="paragraph">
At first we might thus attempt to restrict the category of contexts to the cofibrant strict lcc categories <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">, for which sections <img src="img-math/6729cf67f9f2a9b9959dd8b27ddd77edf2c90ae6ae89c147da0817b3f6178b00.svg" class="inline-math"> exist.
Indeed, cofibrant objects are stable under pushouts along cofibrations, so the context extension <img src="img-math/4df0bf66ff002681fda94818225f7a028c6a92b1eb2f4a3c96f69a9c1d13eac6.svg" class="inline-math"> will be cofibrant again if <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> is cofibrant.
The dependent product type <img src="img-math/7bc89ad564a3c1a68c100d6852d36b791d47d4fe79b2af4389572f011c50d881.svg" class="inline-math"> would be defined by application of
<div class="display-math-row">
<img src="img-math/31fde9de297a3ac936aad56b87a52df8ab6bc785dbe89a89409f5169405840c1.svg">
</div>
to <img src="img-math/77e056b9f4f87e57b862bf59cd3ffd0f52d56ccc25d35b87c586a0f3e0d082c4.svg" class="inline-math">.
Unfortunately, the definition of the comparison functor <img src="img-math/afd5632c7558bc32b258a15b5ea62edba5eb25e55d1c650c7f524408854b6db4.svg" class="inline-math"> required a <em>choice</em> of section <img src="img-math/6729cf67f9f2a9b9959dd8b27ddd77edf2c90ae6ae89c147da0817b3f6178b00.svg" class="inline-math">, and this choice will not generally be compatible with strict lcc functors <img src="img-math/827656499700165976bb3793cc8af463b6b15bf9276ba936ebf629ade2d33f7a.svg" class="inline-math">.
The dependent products defined as above will thus not be stable under substitution.</div>
<div class="paragraph">
To solve this issue, we make the section <img src="img-math/27804fb02df3c4bc67cb6a8d4a6d6cc1a3889cf3f5a4c3028c15ce89fe317eaf.svg" class="inline-math"> part of the structure.
Similarly to how strict lcc categories have associated structure corresponding to their fibrancy in lcc, we make the section <img src="img-math/27804fb02df3c4bc67cb6a8d4a6d6cc1a3889cf3f5a4c3028c15ce89fe317eaf.svg" class="inline-math"> witnessing the cofibrancy of strict lcc categories part of the data, and require morphisms to preserve it.
We thus consider algebraically cofibrant objects, which, dually to algebraically fibrant objects, are defined as coalgebras for a cofibrant replacement comonad.
As in the case of algebraically fibrant objects, we are justified in doing so because we obtain an equivalent model category:</div>
<div id="th-coalgebraic-model-category" class="theorem-like">
<div class="paragraph">
<h4>Theorem 21 <span class="theorem-note">([<a href="#coalgebraic-models">7</a>] Lemmas 1.2 and 1.3, Theorems 1.4 and 2.5)</span>.
</h4>
Let <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> be a combinatorial and model <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category.
Then there are arbitrarily large cardinals <img src="img-math/27804fb02df3c4bc67cb6a8d4a6d6cc1a3889cf3f5a4c3028c15ce89fe317eaf.svg" class="inline-math"> such that
<ol>
<li>
<div class="paragraph">
<img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> is locally <img src="img-math/27804fb02df3c4bc67cb6a8d4a6d6cc1a3889cf3f5a4c3028c15ce89fe317eaf.svg" class="inline-math">-presentable;</div>
</li>
<li>
<div class="paragraph">
<img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> is cofibrantly generated with a set of generating cofibrations for which domains and codomains are <img src="img-math/27804fb02df3c4bc67cb6a8d4a6d6cc1a3889cf3f5a4c3028c15ce89fe317eaf.svg" class="inline-math">-presentable objects;</div>
</li>
<li>
<div class="paragraph">
an object <img src="img-math/a4eee4606473434bab4faf66f8045f1d26644924ec6ab46f968beca1a1836a3c.svg" class="inline-math"> is <img src="img-math/27804fb02df3c4bc67cb6a8d4a6d6cc1a3889cf3f5a4c3028c15ce89fe317eaf.svg" class="inline-math">-presentable if and only if the functor <img src="img-math/366b1cdbc9d0759a25cb911a8afa181132241389be7434144a539253fc465b99.svg" class="inline-math">, given by the groupoid enrichment of <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math">, preserves <img src="img-math/27804fb02df3c4bc67cb6a8d4a6d6cc1a3889cf3f5a4c3028c15ce89fe317eaf.svg" class="inline-math">-filtered colimits.</div>
</li>
</ol>
</div>
<div class="paragraph">
Let <img src="img-math/27804fb02df3c4bc67cb6a8d4a6d6cc1a3889cf3f5a4c3028c15ce89fe317eaf.svg" class="inline-math"> be any such cardinal.
Then there is a cofibrant replacement <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-comonad <img src="img-math/fa506770f042a226a79507f8d6037b34cf5cff772ac6c03c56869658cba562d6.svg" class="inline-math"> that preserves <img src="img-math/27804fb02df3c4bc67cb6a8d4a6d6cc1a3889cf3f5a4c3028c15ce89fe317eaf.svg" class="inline-math">-filtered colimits.
Let <img src="img-math/90eae30e015bccb35ae098326e7446c42cc7016666bf806e3497801cc32e7ddc.svg" class="inline-math"> be any such comonad and denote its category of coalgebras by <img src="img-math/9b1c69d2857257f77b9e25b44890a6d0e092be379bdb86235391b9db26797125.svg" class="inline-math">.</div>
<div class="paragraph">
Then the forgetful functor <img src="img-math/d2a89bdfa2285936c962503606a026c6868abc28a66c1698b3c46ce45e56eac1.svg" class="inline-math"> has a left adjoint <img src="img-math/4c4b51239bfc83d0ceb565fc22d177bb05e10c9e0d332fcb6d2fb08a3bcdc19a.svg" class="inline-math">.
<img src="img-math/9b1c69d2857257f77b9e25b44890a6d0e092be379bdb86235391b9db26797125.svg" class="inline-math"> is a complete and cocomplete <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category, and <img src="img-math/5cae4d3c4fad9333c522522c4890ec2d80e89c9fb5835f514de7646545f001b9.svg" class="inline-math"> is a <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-adjunction.
The model category structure of <img src="img-math/c5ef6fbe1013baacbf2f74e2f9af358bd1d8cba2fc8b0a51e3904f1636c5b50e.svg" class="inline-math"> can be transferred along <img src="img-math/5cae4d3c4fad9333c522522c4890ec2d80e89c9fb5835f514de7646545f001b9.svg" class="inline-math">, making <img src="img-math/9b1c69d2857257f77b9e25b44890a6d0e092be379bdb86235391b9db26797125.svg" class="inline-math"> a model <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category.
<img src="img-math/5cae4d3c4fad9333c522522c4890ec2d80e89c9fb5835f514de7646545f001b9.svg" class="inline-math"> is a Quillen equivalence.</div>
</div>
<div class="paragraph">
For <img src="img-math/e18ef4825b3ca3f6721dfb0bd0d39ef75d58df0b680215a9cbfc6a8dcf112e98.svg" class="inline-math">, the first infinite cardinal <img src="img-math/2afa9f57202e44e71e4440fe28e8d94d0545977d50bb773c882f799288f43c8c.svg" class="inline-math"> satisfies the three conditions of Theorem <a href="#th-coalgebraic-model-category">21</a>, and <img src="img-math/ebbd61e43deccc5e7f5b51e0f40f11ac9cdfa21de0259e85e68c1a4d3187e8cf.svg" class="inline-math"> is a suitable cofibrant replacement comonad.</div>
<div class="theorem-like">
<div class="paragraph">
<h4>Definition 22.
</h4>
The covariant cwf structure on <img src="img-math/2ac8344303de787b8542657f554fbe56b768f0f1af194027b74de33c451da778.svg" class="inline-math"> is defined as the composite
<div class="display-math-row">
<img src="img-math/ff8f3f0309a34625570f3fac0007d9eea13a97ebf8e91d04e64409a4191faa9e.svg">
</div>
in terms of the covariant cwf structure on <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math">.</div>
</div>
<div class="paragraph">
We denote by <img src="img-math/c53ef283304f6c92fd3e29062c72067e6e7ef6aedca02555382c41119cdb2cc5.svg" class="inline-math"> the unit and by <img src="img-math/d5c0ffd9d325e6ab2e50e41ff07c3242fc05e791239995917585df39cacd584a.svg" class="inline-math"> the counit of the adjunction <img src="img-math/cf6463620c6b661e052e7c742b3cdaa0c67ff86c388e2513b4bbbba357647788.svg" class="inline-math">.</div>
<div id="lem-coalgebra-vs-eta" class="theorem-like">
<div class="paragraph">
<h4>Lemma 23.
</h4>
Let <img src="img-math/6729cf67f9f2a9b9959dd8b27ddd77edf2c90ae6ae89c147da0817b3f6178b00.svg" class="inline-math"> be an <img src="img-math/ca05db5a93b14d467600f8e37932e7c1e0d14d72b669646cf9029aab299b7e61.svg" class="inline-math">-coalgebra.
Then there is a canonical natural isomorphism <img src="img-math/13144ba455c38b1cdb4d273021f885c254c413d6ed76d37396bd86ed3fa43cdf.svg" class="inline-math"> of lcc functors which is compatible with morphisms of <img src="img-math/ca05db5a93b14d467600f8e37932e7c1e0d14d72b669646cf9029aab299b7e61.svg" class="inline-math">-coalgebras.</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
It suffices to construct a natural isomorphism
<div class="display-math-row">
<img src="img-math/fa62d42d8b711877b2e996fd7d07136c0fd037ee64a2ea0b2c99f6f2cd35fdef.svg">
</div>
of lcc endofunctors on <img src="img-math/b29c5d6a3b875724ab1257244a5045fe9eb353c15be88e4d9b21b539f14fa6b8.svg" class="inline-math"> for every strict lcc category <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">, because then
<div class="display-math-row">
<img src="img-math/139d01330ce1d48b392934b137a5530cabaca040c4c123667f3010914db90147.svg">
</div>
for every coalgebra <img src="img-math/6729cf67f9f2a9b9959dd8b27ddd77edf2c90ae6ae89c147da0817b3f6178b00.svg" class="inline-math">.</div>
<div class="paragraph">
<img src="img-math/b446998ea291bebe222f6f97e4f502bb71cd50d2a6579601e46ce2617d0a870b.svg" class="inline-math"> is a trivial cofibration, so the map
<div id="eq-eta-precomposition" class="display-math-row">
<span>(4)</span>
<img src="img-math/43ad74a9b00802eb561a75fb189a8f2bd802478363d708c0f690c6f367199e4b.svg">
<span>(4)</span>
</div>
is a trivial fibration of groupoids.
By one of the triangle identities of units and counits, we have <img src="img-math/46416be894bbf23b58a66162873c2f0cd110d231e1c6ec56e97d64ef63240af9.svg" class="inline-math">.
Thus both <img src="img-math/4197b63b4cb66f1cf56115358e6ce292b9fb155e8565f13325f0537dcafe88f2.svg" class="inline-math"> and <img src="img-math/3ee645a28a827d30b5927ca40eb4b842a614f899ada16bf0507d39576ee0464a.svg" class="inline-math"> are sent to <img src="img-math/b446998ea291bebe222f6f97e4f502bb71cd50d2a6579601e46ce2617d0a870b.svg" class="inline-math"> under the surjective equivalence <a href="#eq-eta-precomposition">(4)</a>, and so we can lift the identity natural isomorphism on <img src="img-math/b446998ea291bebe222f6f97e4f502bb71cd50d2a6579601e46ce2617d0a870b.svg" class="inline-math"> to an isomorphism <img src="img-math/e095769afb5f2eed6133dbd82c84482dd8d02b3ba9da88d929f17ee4f60789e7.svg" class="inline-math"> as above.
Since the lift is unique, it is preserved under strict lcc functors in <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">.</div>
</div>
<div id="prop-coa-slcc-exts" class="theorem-like">
<div class="paragraph">
<h4>Proposition 24.
</h4>
The covariant cwf <img src="img-math/2ac8344303de787b8542657f554fbe56b768f0f1af194027b74de33c451da778.svg" class="inline-math"> has an empty context and context extensions, and the forgetful functor <img src="img-math/e1c6ecd50b3642f01635cef3b46a756584aa84d68af92488850adb62e153e212.svg" class="inline-math"> preserves both.</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
The model category <img src="img-math/2ac8344303de787b8542657f554fbe56b768f0f1af194027b74de33c451da778.svg" class="inline-math"> has an initial object, i.e. an empty context.
Its underlying strict lcc category <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> is the initial strict lcc category, and the structure map <img src="img-math/6729cf67f9f2a9b9959dd8b27ddd77edf2c90ae6ae89c147da0817b3f6178b00.svg" class="inline-math"> is the unique strict lcc functor with this signature.</div>
<div class="paragraph">
Now let <img src="img-math/6729cf67f9f2a9b9959dd8b27ddd77edf2c90ae6ae89c147da0817b3f6178b00.svg" class="inline-math"> be an <img src="img-math/ca05db5a93b14d467600f8e37932e7c1e0d14d72b669646cf9029aab299b7e61.svg" class="inline-math">-coalgebra and <img src="img-math/e49aa41f7b570bf330c2504f3a0495ffd24da704c2bf9544f8d080a67e4ef86e.svg" class="inline-math"> be a type.
We must construct coalgebra structure <img src="img-math/8b7d708abcb1aa584197c67b77a95477ccea6129680b9079bd8347a2bb41d471.svg" class="inline-math"> on the context extension in <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math"> such that
<div class="display-math-row">
<img src="img-math/0538fb19dfbef43bcd6aaddad0a1f5f4741e4e155abd219cf863760c68799846.svg">
</div>
commutes, and show that the strict lcc functor <img src="img-math/4fb4494b9385fe36ea63f5ebb0905f46f6f4ee11bb39def1fddce61ef89e393e.svg" class="inline-math"> induced by a coalgebra morphism <img src="img-math/d29cb919a5c6d4318e43a8b47d4fe5fe7d9ecb2053469088a3461ed0832f9795.svg" class="inline-math"> and a term <img src="img-math/6d6c32daf836b9a973b6fce0f4045dda54aeb56bdc0b0b7d76d3da4531da33dc.svg" class="inline-math"> is a coalgebra morphism.</div>
<div class="paragraph">
Let <img src="img-math/6e97819c238d3a47d37a01ec41f1b9e589999649531d36d84aaa3881ad0d99dd.svg" class="inline-math"> be the variable term of the context extension of <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> by <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math">.
Then <img src="img-math/c755ff77be84f5f1ac78367b772e1c8eb0d8b460a1f8c560f263d9db2068c359.svg" class="inline-math"> is a morphism
<div class="display-math-row">
<img src="img-math/e03a49a7aeaea825f2d4ac89e8dbf9ffe061a59f5e36d5a8859dd841fbcd87e4.svg">
</div>
in <img src="img-math/d68ff7ef67407ff2c9be14f1cf8267fd5daa1b0b3755d093ffd9513b6ab23034.svg" class="inline-math">.
<img src="img-math/6e3dce918a30d74c35b7420a0ca7076c4e665a0496ebff6495d934bd57d6a204.svg" class="inline-math"> is a terminal object and hence uniquely isomorphic to the canonical terminal object <img src="img-math/92757f9a5d802657ae1c7af9ce6ad10cb8197193988a2ae4a38cf86154eb1414.svg" class="inline-math"> of <img src="img-math/d68ff7ef67407ff2c9be14f1cf8267fd5daa1b0b3755d093ffd9513b6ab23034.svg" class="inline-math">, and <img src="img-math/682b28583950420b1be5c37451435560e61461a90facb7825e5f7a11b774ae05.svg" class="inline-math"> is isomorphic to <img src="img-math/f7d6d4173826adaccfb65e2edc52db134b02cf5935de708d46ead5095213a7da.svg" class="inline-math"> via a component of <img src="img-math/f15429b49552085099f71e568a92aea52f7e95df5d25ff0716c906e9e06fec10.svg" class="inline-math">, where <img src="img-math/1a78f4ce9c2258f1ed74a26796dfb2f9c7e83e1a50f0f1cd701bdcc5ed4c9870.svg" class="inline-math"> is the natural isomorphism constructed in Lemma <a href="#lem-coalgebra-vs-eta">23</a>.
We thus obtain a term <img src="img-math/a49918499e3b3ff9d8aed8446a07d7dd9c7994963915ea47c65bacdaa99479e7.svg" class="inline-math"> and can define
<div class="display-math-row">
<img src="img-math/d2ffedb672247e61f07e53db3772311e3c0b8f7bc17dd478641294ec788ad521.svg">
</div>
by the universal property of <img src="img-math/4df0bf66ff002681fda94818225f7a028c6a92b1eb2f4a3c96f69a9c1d13eac6.svg" class="inline-math">.
<img src="img-math/dca93c320249ab3ab7a9574dc5465e7201a227bc80ccd83f2d327781481c6332.svg" class="inline-math"> is compatible with <img src="img-math/a7042afe26daa1d7a79f7691c407a1dce105303d74fd9172d1a5ae31eccc5913.svg" class="inline-math"> and <img src="img-math/27804fb02df3c4bc67cb6a8d4a6d6cc1a3889cf3f5a4c3028c15ce89fe317eaf.svg" class="inline-math"> by construction.</div>
<div class="paragraph">
Now let <img src="img-math/d29cb919a5c6d4318e43a8b47d4fe5fe7d9ecb2053469088a3461ed0832f9795.svg" class="inline-math"> be a coalgebra morphism and let <img src="img-math/6d6c32daf836b9a973b6fce0f4045dda54aeb56bdc0b0b7d76d3da4531da33dc.svg" class="inline-math">.
We need to show that
<div class="display-math-row">
<img src="img-math/d725d83abdde139c4bd7119a37735132da25329399cf7a1ce9e082539c1f6263.svg">
</div>
commutes.
This follows from the universal property of <img src="img-math/4df0bf66ff002681fda94818225f7a028c6a92b1eb2f4a3c96f69a9c1d13eac6.svg" class="inline-math">:
The two maps <img src="img-math/5a02547f12f23b25a0e2a1e98170a5b8414837321fce33b71a935bf053f18807.svg" class="inline-math"> agree after precomposing <img src="img-math/c699e04d94d188d5ab8e0cfd575601675a73131d25867dc6a183cef918fbe2c4.svg" class="inline-math"> because by assumption <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> is a coalgebra morphism, and they both map <img src="img-math/d36bc99241e7edf2d5d3bd6a3e5ac7d414ed473b35ed6ec7ddf692c2ad3ba565.svg" class="inline-math"> to the term <img src="img-math/6f754cfb6fa099a5fbe61839fb261ffb24dd8b0ef403f5ec48f8556445f33573.svg" class="inline-math"> obtained from <img src="img-math/79e00881db7552995be0b87ee5bd11f2fc50f8aa801e73997f2130cee1f31714.svg" class="inline-math"> similarly to <img src="img-math/c2abdff3b7ad1f9fcd393f42cf6847dc2dde84fd09d90baf8f65e3535485cdf1.svg" class="inline-math"> from <img src="img-math/d36bc99241e7edf2d5d3bd6a3e5ac7d414ed473b35ed6ec7ddf692c2ad3ba565.svg" class="inline-math"> because the isomorphism <img src="img-math/1a78f4ce9c2258f1ed74a26796dfb2f9c7e83e1a50f0f1cd701bdcc5ed4c9870.svg" class="inline-math"> constructed in Lemma <a href="#lem-coalgebra-vs-eta">23</a> is compatible with coalgebra morphisms.</div>
</div>
<div class="paragraph">
For <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> a <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category and <img src="img-math/67e4fb4d267218488d9dac9d0404890aa1f28f365a3b39f4f286da21d6f67e66.svg" class="inline-math">, we denote by <img src="img-math/4be10976848baf9d4f258b72eff42156e90ccd341c91fa72bab19870a184c964.svg" class="inline-math"> the higher coslice <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-category of objects under <img src="img-math/a169a8d1c1e37170ff145d0db50b1d71d409be6cb14eab73d7e48a7213796773.svg" class="inline-math">.
Its objects are morphisms out of <img src="img-math/a169a8d1c1e37170ff145d0db50b1d71d409be6cb14eab73d7e48a7213796773.svg" class="inline-math">, its morphisms are triangles
<div class="display-math-row">
<img src="img-math/feb3f4cddf62bad4e27b806296f4cba7026e780618d007d0c1dda435a7f23b62.svg">
</div>
in <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> which commute up to specified isomorphism <img src="img-math/1a78f4ce9c2258f1ed74a26796dfb2f9c7e83e1a50f0f1cd701bdcc5ed4c9870.svg" class="inline-math">, and its 2-cells <img src="img-math/c291d204c74ac4ba7c35136b330f06781b1cfd8cf36dfab29dbe79ed3c25d493.svg" class="inline-math"> are 2-cells <img src="img-math/d98b42deca0eca2afecd319c83672dcbcb161afc662121a66aac5b9b46878735.svg" class="inline-math"> in <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> such that <img src="img-math/c2f3a4d834e8ab055b3a09e26672a3ec9dae9bc39dd94dc594a4b5a253f0495f.svg" class="inline-math">.</div>
<div id="def-weak-ext" class="theorem-like">
<div class="paragraph">
<h4>Definition 25.
</h4>
Let <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> be an lcc category and <img src="img-math/67e4fb4d267218488d9dac9d0404890aa1f28f365a3b39f4f286da21d6f67e66.svg" class="inline-math">.
A <em>weak context extension</em> of <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> by <img src="img-math/a169a8d1c1e37170ff145d0db50b1d71d409be6cb14eab73d7e48a7213796773.svg" class="inline-math"> consists of an lcc functor <img src="img-math/edd53f1e7878b223c12588b8436b85e2e4ba17c1d0c05a102d4385661eb25597.svg" class="inline-math"> and a morphism <img src="img-math/108bee0cf0ace7bf983306fc56e19657b26cc805774f9726df89f58cf111d656.svg" class="inline-math"> with <img src="img-math/31da59226089717b0fd7e061b3dba13e20f69078642fd752d80ecaa39fa58b4d.svg" class="inline-math"> a terminal object in <img src="img-math/3a76d09466f5b48b74b01612b53eb2c10acce0ef286b11e45e0bab4419ba3163.svg" class="inline-math"> such that the following biuniversal property holds:</div>
<div class="paragraph">
For every lcc category <img src="img-math/8f4b3f443bce8ebcc9afb708b1d7046ff9c92560b5161bb9ad763af9610c54bc.svg" class="inline-math">, lcc functor <img src="img-math/8e104e16cbde3db7a2b81694bc0382df36d697e39ffeb60eb6a0553f0b862cbd.svg" class="inline-math"> and morphism <img src="img-math/71a318f5d00980ba0b4a3d63dee286fc3a5d54b68fbd3f0235ca9c32e9fec378.svg" class="inline-math"> in <img src="img-math/8f4b3f443bce8ebcc9afb708b1d7046ff9c92560b5161bb9ad763af9610c54bc.svg" class="inline-math"> with <img src="img-math/1a977ef857faa326aa46333d6786385d65eb20e5ee191a170a1cc785a9a58643.svg" class="inline-math"> terminal, the full subgroupoid of <img src="img-math/616a0e2628cd79e6f6a067f82dac0d29c7f345f139aa96abfe3f24417538c60f.svg" class="inline-math"> given by pairs of lcc functor <img src="img-math/92786b81d5e77fc9cbb890195a5e2e2b09bda9f61f70552d632492783b13101b.svg" class="inline-math"> and natural isomorphism <img src="img-math/0e5872a293bbbb7a94115859333eaf321326cb1fb66a82af7354964ed7b7d5ce.svg" class="inline-math"> such that the square
<div class="display-math-row">
<img src="img-math/fc4177d791ebf622be20c3c12e6d8e83df001c2daf8d02830f7a8448aeed7b52.svg">
</div>
in <img src="img-math/3a76d09466f5b48b74b01612b53eb2c10acce0ef286b11e45e0bab4419ba3163.svg" class="inline-math"> commutes is contractible (i.e. equivalent to the terminal groupoid).</div>
</div>
<div id="rem-discrete-weak-ext-mapping" class="theorem-like">
<div class="paragraph">
<h4>Remark 26.
</h4>
Note that the definition entails that mapping groupoids of lcc functors <img src="img-math/ada42f401e217f89d4e2aaaa13b84f4fe8d4527adf4dc47ae1f62af5c9e119de.svg" class="inline-math"> under <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> with <img src="img-math/3a76d09466f5b48b74b01612b53eb2c10acce0ef286b11e45e0bab4419ba3163.svg" class="inline-math"> a weak context extension are equivalent to discrete groupoids.
Lcc functors <img src="img-math/278c99647276d7c35432c7ededada7a356db33c683cbb1da8c8b98a8eeb584ff.svg" class="inline-math"> under <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> are (necessarily uniquely) isomorphic under <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> if and only if they correspond to the same morphism <img src="img-math/71a318f5d00980ba0b4a3d63dee286fc3a5d54b68fbd3f0235ca9c32e9fec378.svg" class="inline-math"> in <img src="img-math/8f4b3f443bce8ebcc9afb708b1d7046ff9c92560b5161bb9ad763af9610c54bc.svg" class="inline-math">.</div>
</div>
<div id="lem-strictification" class="theorem-like">
<div class="paragraph">
<h4>Lemma 27.
</h4>
Let <img src="img-math/6729cf67f9f2a9b9959dd8b27ddd77edf2c90ae6ae89c147da0817b3f6178b00.svg" class="inline-math"> be an <img src="img-math/ca05db5a93b14d467600f8e37932e7c1e0d14d72b669646cf9029aab299b7e61.svg" class="inline-math">-coalgebra and let <img src="img-math/f8aed8afd75e1b9c109a26f594e0ca904d05d99cb6a44ec643fb9cb0b324872f.svg" class="inline-math"> be a strict lcc category.
Then the full and faithful inclusion of groupoids
<div id="eq-forget-strictness" class="display-math-row">
<span>(5)</span>
<img src="img-math/257a6ac552d8daaaf9eeb551708dbcc321ca366a15a688ddd2dfc9e7ac321ff5.svg">
<span>(5)</span>
</div>
admits a canonical retraction <img src="img-math/0448f52fa1795790a334136fbfb8d154f6d1f515bbc3e26227c44587071513c7.svg" class="inline-math">.
There is a natural isomorphism <img src="img-math/8b36547adee282eb3490dd5d71def703731894d427181c943ec4b483377f7941.svg" class="inline-math">, exhibiting the retract <a href="#eq-forget-strictness">(5)</a> as an equivalence of groupoids.
The retraction <img src="img-math/0448f52fa1795790a334136fbfb8d154f6d1f515bbc3e26227c44587071513c7.svg" class="inline-math"> and natural isomorphism <img src="img-math/a14494078db5f4ad3825003f96193de5f3a2cefc768fe3c2b18bfb0cee00b7cd.svg" class="inline-math"> is <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-natural in <img src="img-math/655e5fd784e2bd918b3c0bc4893bdb3d02ca66170a8da874b54e307ba62787e1.svg" class="inline-math"> and <img src="img-math/f8aed8afd75e1b9c109a26f594e0ca904d05d99cb6a44ec643fb9cb0b324872f.svg" class="inline-math">.</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
Let <img src="img-math/686d8f73e73da7ef446795acb01700187a6c295b9130b17b10b6d56a5dc2f882.svg" class="inline-math">.
The transpose of <img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> is a strict lcc functor <img src="img-math/4f9f9c006f5e5c2a635d2b1050dc4c4ba925e31c26cf51c41f8ffa4ba6205fb1.svg" class="inline-math"> such that <img src="img-math/2d2edf3dceb07db68143a88dbb2d9c6e6af9b0a8a827dbb713bd915e83badec4.svg" class="inline-math">.
We set <img src="img-math/efe1f75151ae0ae65141675aebb86fd0407052b02b69ac9397327320565acff0.svg" class="inline-math"> and <img src="img-math/ffcd8e9e49cd5ee15420bc56a19aee41f8fb77f3ee6b8db687bf617b206a6cfd.svg" class="inline-math"> for <img src="img-math/b75000d02b20d38b46218f3d281b218c0e9d9dc5d76044f415492ab9e5e3775f.svg" class="inline-math"> as in Lemma <a href="#lem-coalgebra-vs-eta">23</a>.
If <img src="img-math/b2fcc021c2bf272c7e4712a6be83010028bf4e6f5ef989f8c615a1929475d08d.svg" class="inline-math"> already arises from a strict lcc functor <img src="img-math/1e8f0b5ffde005425608fcb4393558e883123d5eeded0586b137615e5a740904.svg" class="inline-math">, then <img src="img-math/15bdd98d3586a38ebf76f9d039dd12e5ac3b2051488a547af92d4b60fd3bb1da.svg" class="inline-math"> and hence <img src="img-math/4cc56b7a4bf237806ccd0dcc69ecbddf66bd2e799da7beb77dae74b65f7a3722.svg" class="inline-math">.
The action of the retraction <img src="img-math/0448f52fa1795790a334136fbfb8d154f6d1f515bbc3e26227c44587071513c7.svg" class="inline-math"> on natural isomorphisms <img src="img-math/bdffd199c6fe04e15d42bf9bc8361b5cc222da812eb8967b4786bcfd46d5db3b.svg" class="inline-math"> is defined analogously from the <img src="img-math/8b632b2355984e005152f1d12a06f55f915a9813dd3c2eb49c5224d9aba6952c.svg" class="inline-math">-enrichment of <img src="img-math/cf6463620c6b661e052e7c742b3cdaa0c67ff86c388e2513b4bbbba357647788.svg" class="inline-math">.</div>
</div>
<div id="lem-strict-ext-is-weak-ext" class="theorem-like">
<div class="paragraph">
<h4>Lemma 28.
</h4>
Let <img src="img-math/655e5fd784e2bd918b3c0bc4893bdb3d02ca66170a8da874b54e307ba62787e1.svg" class="inline-math"> be an <img src="img-math/ca05db5a93b14d467600f8e37932e7c1e0d14d72b669646cf9029aab299b7e61.svg" class="inline-math">-coalgebra.
Then <img src="img-math/01551ea2ac0b9d379ed9eb7e4c781d493af544f7aa546bbce63542d94a9010f8.svg" class="inline-math"> and <img src="img-math/6e97819c238d3a47d37a01ec41f1b9e589999649531d36d84aaa3881ad0d99dd.svg" class="inline-math"> form a weak context extension of <img src="img-math/672db3f7013518449138babd63f1175e8cf06d95e58a214be09a725bbd09d09c.svg" class="inline-math"> by <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math">.</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
Let <img src="img-math/5c71ed86f08698beba3ec25c71e92b29093b98a5e98f2e004876096bcffc8b6a.svg" class="inline-math"> be an lcc functor and <img src="img-math/36919b1b732a6e7fa122a3a21c23e320b54a1e85df3ef90d3fbbcc6b0d3dcc49.svg" class="inline-math"> be a morphism with terminal domain in <img src="img-math/8f4b3f443bce8ebcc9afb708b1d7046ff9c92560b5161bb9ad763af9610c54bc.svg" class="inline-math">.
Let <img src="img-math/f8aed8afd75e1b9c109a26f594e0ca904d05d99cb6a44ec643fb9cb0b324872f.svg" class="inline-math"> be a strict lcc category such that <img src="img-math/80992ec9d22cfdf0a03c1bb5d55682bc0ba5605c3ae9a56ed007ef140600c62c.svg" class="inline-math">.
Then by Lemma <a href="#lem-strictification">27</a> there is an isomorphism <img src="img-math/8b36547adee282eb3490dd5d71def703731894d427181c943ec4b483377f7941.svg" class="inline-math"> for some strict lcc functor <img src="img-math/11ece31c86ab216fec5d108e2b7529858cd1205c3240ed100d7fc43b2045898e.svg" class="inline-math">.
Set <img src="img-math/fd5ce3d410e4c9b16883746070c356773fb939377e5d4789ab6aa36a58faaab4.svg" class="inline-math">, where <img src="img-math/503de8f5166683ea25c4b45bd8b9e1810826e60c8577ace9ee4c233a0f61ddd2.svg" class="inline-math"> is the unique morphism in <img src="img-math/b670ca285602fd378348c4a907edfe0289dbb9f8b30675442d988ebe0f5f095c.svg" class="inline-math"> such that
<div class="display-math-row">
<img src="img-math/f9f486e21e0f21b90907bcdf10aec5fb393ad06ea8675248b1501a32d1f4f7ea.svg">
</div>
commutes.
(Both vertical arrows are isomorphisms.)
Now with <img src="img-math/8777e0601c302e9984ec89e55a3f9dc06945087cf480315bb76d8509fe9a8443.svg" class="inline-math"> we have <img src="img-math/5f859b65d1d5d81cc15838926c41752767dcd7bbe95bc7c4435bf2c19a8ae63c.svg" class="inline-math">.</div>
<div class="paragraph">
Let <img src="img-math/ef990d0e92493508aca55b412a383d6f24da7c2a6cd43476cee917008985f828.svg" class="inline-math"> and <img src="img-math/e329ebbe507f8a0be6c0af791db0122be21603b1c08f7d88174f6da8ac9a2e9c.svg" class="inline-math"> be any other lcc functor over <img src="img-math/672db3f7013518449138babd63f1175e8cf06d95e58a214be09a725bbd09d09c.svg" class="inline-math"> such that
<div class="display-math-row">
<img src="img-math/fa77cf2167a4f38e6ff6ca824d9734c528a27701ffc7d28efd430cce6ac3c863.svg">
</div>
commutes.
We need to show that <img src="img-math/cfad0550117216792d9ba6ad30f2b65901232cec179a8209d87b7568e4230999.svg" class="inline-math"> and <img src="img-math/6dc3fc61c9ae90e93acb03925abca467e0dbc08e047f7609141361daee37fdcc.svg" class="inline-math"> are uniquely isomorphic under <img src="img-math/672db3f7013518449138babd63f1175e8cf06d95e58a214be09a725bbd09d09c.svg" class="inline-math">.
Lemma <a href="#lem-strictification">27</a> reduces this to the unique existence of an extension of the isomorphism <img src="img-math/f83120a7ba357b7db3d23c2519f1f3b98ee5f047b84c38a2475c3d086330c583.svg" class="inline-math"> defined as composite
<div class="display-math-row">
<img src="img-math/d0e58cd61c0cdb2134008cdc9ae36343cbc4becede6da21b3de542569aee4a64.svg">
</div>
to an isomorphism <img src="img-math/a143e3aa7acf88b8881916f5637072a479db584dcdbd3ffbd12ad1359f3f9690.svg" class="inline-math"> under <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">.
This follows from the construction of <img src="img-math/4df0bf66ff002681fda94818225f7a028c6a92b1eb2f4a3c96f69a9c1d13eac6.svg" class="inline-math"> as pushout
<div class="display-math-row">
<img src="img-math/5ededa980928c88e39ea76c46cf838fa29c54f1c5eb570482a331babf161edb3.svg">
</div>
and its universal property on 2-cells.</div>
</div>
<div id="lem-slice-is-weak-ext" class="theorem-like">
<div class="paragraph">
<h4>Lemma 29.
</h4>
Let <img src="img-math/a169a8d1c1e37170ff145d0db50b1d71d409be6cb14eab73d7e48a7213796773.svg" class="inline-math"> be an object of an lcc category <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math">, and let <img src="img-math/15a9a7e2b3a584bcf3b80679cbb7cdcc146d51e475c5659fe315aaadf574d95f.svg" class="inline-math"> be any choice of pullback functor.
Denote by <img src="img-math/2803a06f6e4f50b78100759c6acdc0807ef290359b23345e76f039ebe66a439b.svg" class="inline-math"> the diagonal morphism in <img src="img-math/f73859ec07728f47335b06884c3bb347e2f9d7cbfed8db93338478e493412ac1.svg" class="inline-math">.
Then <img src="img-math/d4937afe38e40bb58463f36cee11ef06c0962686d44b38f261b525c168eb1e00.svg" class="inline-math"> and <img src="img-math/a455973db032aa33c7913b08a0e71f6d4e128bbe66653e450b42db49479a671f.svg" class="inline-math"> form a weak context extension of <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> by <img src="img-math/a169a8d1c1e37170ff145d0db50b1d71d409be6cb14eab73d7e48a7213796773.svg" class="inline-math">.</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
Let <img src="img-math/8f4b3f443bce8ebcc9afb708b1d7046ff9c92560b5161bb9ad763af9610c54bc.svg" class="inline-math"> be an lcc category, <img src="img-math/ee2a89cad3595245e6749061e923db6725efd6e46237432c627f51af12a81670.svg" class="inline-math"> be an lcc functor and <img src="img-math/c09a4de8c3b048d8ca857a61eacce1e732212ef663ac2b60ebbff6d05e5321e8.svg" class="inline-math"> be a morphism in <img src="img-math/8f4b3f443bce8ebcc9afb708b1d7046ff9c92560b5161bb9ad763af9610c54bc.svg" class="inline-math"> with <img src="img-math/31da59226089717b0fd7e061b3dba13e20f69078642fd752d80ecaa39fa58b4d.svg" class="inline-math"> terminal.
We define the induced lcc functor <img src="img-math/3c996acb1d544267b7a2a251b684ba66650402ed3aab555c1b3bfe8295e7d00f.svg" class="inline-math"> as composition
<div class="display-math-row">
<img src="img-math/bd348ea1be3a4b2b7e64e985abb55957a83a0439973ce4c04882f96436065b85.svg">
</div>
where <img src="img-math/c75548bedebc373f9ac6cbbf8446c46cf93f1d49ec927d2cebcb720ad8aef6ca.svg" class="inline-math"> is given by a choice of pullback functor.</div>
<div class="paragraph">
Let <img src="img-math/a8c32d25840279676b578e21501eb5d562f454df73fae33cb34f526652cca599.svg" class="inline-math">.
We denote the composite <img src="img-math/e7311c3d88f889888d68acbbaf0a551d2c43dd2025ba9baafcbc7f07be582ef9.svg" class="inline-math"> by <img src="img-math/e3d5a464e8a5f2866214b056ad6ee04432fc93efa34ed2068a64673fa50ef303.svg" class="inline-math">.
Then the two squares
<div class="display-math-row">
<img src="img-math/a2b2d1e0eed352bef0e2a6d4e774860a6403b094581ed83f25f71ca211560d45.svg">
</div>
are both pullbacks over the same cospan.
Here <img src="img-math/c54e7fc6ba9b8d142b34d8744f118fcb8dfb63592d0430a84d439eab067646ad.svg" class="inline-math"> denotes the first projection of the product defining the pullback functor <img src="img-math/d4937afe38e40bb58463f36cee11ef06c0962686d44b38f261b525c168eb1e00.svg" class="inline-math">, and <img src="img-math/9661fb5facf1899014d6454cb31f275f43d046be87595b8f4a1aa7fc53379966.svg" class="inline-math"> is the projection's domain.
(These should not be confused with canonical products in strict lcc categories; <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> and <img src="img-math/3a76d09466f5b48b74b01612b53eb2c10acce0ef286b11e45e0bab4419ba3163.svg" class="inline-math"> are only lcc categories.)
<img src="img-math/6ba5d2195f6b0c8d42f5c92197c29db79c2977f08508dc876eb64be3ac02fdb6.svg" class="inline-math"> preserves pullbacks, so <img src="img-math/7db0344ec550dfba6dca3d9136d1bdcca59c733036f880534b003c3a5cbecc85.svg" class="inline-math"> is a product of <img src="img-math/0722572c21b91537cdaabe4b20d02c0af8e26ccb28021f136c6fa7bead572f1d.svg" class="inline-math"> with <img src="img-math/ffa149e8fb544f0aead84b2360b1939c4931f2c6e8e69a8f0346bb8f3b738d50.svg" class="inline-math">.
We obtain natural isomorphisms <img src="img-math/9ffaba0ce1202d546383cc215c78cd8fb68859521eb15fd73fb228597d9e03a5.svg" class="inline-math"> relating the two pullbacks for all <img src="img-math/937641f1c23af6bb1bb53e2f9d3db293ef530f441fce9213f43b011f875a2028.svg" class="inline-math">.</div>
<div class="paragraph">
The diagram
<div class="display-math-row">
<img src="img-math/2d8fd15d3ddfd4be249473cad46ace025371175f5ff646f1fa07e2c98a87966a.svg">
</div>
commutes, and in particular the left square commutes.
It follows that <img src="img-math/1a78f4ce9c2258f1ed74a26796dfb2f9c7e83e1a50f0f1cd701bdcc5ed4c9870.svg" class="inline-math"> is compatible with <img src="img-math/a455973db032aa33c7913b08a0e71f6d4e128bbe66653e450b42db49479a671f.svg" class="inline-math"> and <img src="img-math/79e00881db7552995be0b87ee5bd11f2fc50f8aa801e73997f2130cee1f31714.svg" class="inline-math">.</div>
<div class="paragraph">
<img src="img-math/080237251272c801041ea2a4d2f65b3bae8e8ad91a515098993fa2aa03685a70.svg" class="inline-math"> and <img src="img-math/1a78f4ce9c2258f1ed74a26796dfb2f9c7e83e1a50f0f1cd701bdcc5ed4c9870.svg" class="inline-math"> are unique up to unique isomorphism because for every morphism <img src="img-math/db77db7d88fb67d4220a1a3198e0695af14f5cde6a98f9889a0e398634c96604.svg" class="inline-math"> in <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math">, i.e. object of <img src="img-math/f73859ec07728f47335b06884c3bb347e2f9d7cbfed8db93338478e493412ac1.svg" class="inline-math">, the square
<div class="display-math-row">
<img src="img-math/c34adec22ad3b1c85917ca5995bee857232e2681c32f5559e99b5692b8f2c15a.svg">
</div>
is a pullback square in <img src="img-math/f73859ec07728f47335b06884c3bb347e2f9d7cbfed8db93338478e493412ac1.svg" class="inline-math">.</div>
</div>
<div id="lem-extension-vs-slice" class="theorem-like">
<div class="paragraph">
<h4>Lemma 30.
</h4>
Let <img src="img-math/6729cf67f9f2a9b9959dd8b27ddd77edf2c90ae6ae89c147da0817b3f6178b00.svg" class="inline-math"> be an <img src="img-math/ca05db5a93b14d467600f8e37932e7c1e0d14d72b669646cf9029aab299b7e61.svg" class="inline-math">-coalgebra and let <img src="img-math/e49aa41f7b570bf330c2504f3a0495ffd24da704c2bf9544f8d080a67e4ef86e.svg" class="inline-math"> be a type.
Then <img src="img-math/01551ea2ac0b9d379ed9eb7e4c781d493af544f7aa546bbce63542d94a9010f8.svg" class="inline-math"> and <img src="img-math/065a45b869280206a56b1380b4d36611bbda12a8fd7e4145ec9f86df2d119cd3.svg" class="inline-math"> are equivalent objects of the coslice category <img src="img-math/d82d41258ac539239ef8944763d8abb2ec54f937b0b0337887740be3bac041bb.svg" class="inline-math">.
The equivalence <img src="img-math/c5ec7a9663e738646a07363afdaa9e631b90780e1f105bae8756a1035bdc2529.svg" class="inline-math"> can be constructed naturally in <img src="img-math/655e5fd784e2bd918b3c0bc4893bdb3d02ca66170a8da874b54e307ba62787e1.svg" class="inline-math"> and <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math">, in the sense that coalgebra morphisms in <img src="img-math/655e5fd784e2bd918b3c0bc4893bdb3d02ca66170a8da874b54e307ba62787e1.svg" class="inline-math"> preserving <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math"> induce natural transformations of diagrams
<div id="eq-ext-equivalence" class="display-math-row">
<span>(6)</span>
<img src="img-math/cda792f6bce1ac1eb26a312598c390d15fbb5134605168d95acdc35d90630898.svg">
<span>(6)</span>
</div></div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
It follows immediately from Lemmas <a href="#lem-strict-ext-is-weak-ext">28</a> and <a href="#lem-slice-is-weak-ext">29</a> that <img src="img-math/346f7545e90b2c887641ca36e1e7df09726dae274816cd5a6c5abf171fbdeacb.svg" class="inline-math"> and <img src="img-math/52a316347bff9ebe175a951ede16b6f7c30e239cc1210429f7eeb78dc31472d0.svg" class="inline-math"> are equivalent under <img src="img-math/672db3f7013518449138babd63f1175e8cf06d95e58a214be09a725bbd09d09c.svg" class="inline-math">.
However, a priori the corresponding diagrams <a href="#eq-ext-equivalence">(6)</a> can only be assumed to vary pseudonaturally in <img src="img-math/655e5fd784e2bd918b3c0bc4893bdb3d02ca66170a8da874b54e307ba62787e1.svg" class="inline-math"> and <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math">, meaning that for example the square
<div id="eq-strict-ext-to-slice" class="display-math-row">
<span>(7)</span>
<img src="img-math/6280f1a027a7d27818ddc7205881a953a5802f059985aae48b1d1182476e1c35.svg">
<span>(7)</span>
</div>
induced by a coalgebra morphism <img src="img-math/285966934473c96efb616c08e7b2c7fbf1b61ad4455ab6f25d5b9bc147b2eaf7.svg" class="inline-math"> would only commute up to isomorphism.</div>
<div class="paragraph">
The issue is that Definition <a href="#def-weak-ext">25</a> only requires that certain mapping groupoids are contractible to a point, but the choice of point is not uniquely determined.
To obtain a square <a href="#eq-strict-ext-to-slice">(7)</a> that commutes up to equality, we have to explicitly construct a map <img src="img-math/60fec385a446d1d59ca4e717b28450edc0c20e12d850c8c15f8e3895e8cf53e3.svg" class="inline-math"> (i.e. point of the contractible mapping groupoid) and show that this choice is strictly natural.</div>
<div class="paragraph">
The map <img src="img-math/60fec385a446d1d59ca4e717b28450edc0c20e12d850c8c15f8e3895e8cf53e3.svg" class="inline-math"> over <img src="img-math/672db3f7013518449138babd63f1175e8cf06d95e58a214be09a725bbd09d09c.svg" class="inline-math"> is determined up to unique isomorphism by compatibility with the (canonical) pullback functor <img src="img-math/065a45b869280206a56b1380b4d36611bbda12a8fd7e4145ec9f86df2d119cd3.svg" class="inline-math"> and the diagonal <img src="img-math/5189b6a0e585f113165d1e888303a5f68ebd400f70c2d1af6d090cf59ce420a7.svg" class="inline-math">.
Recall from the proof of Lemma <a href="#lem-strict-ext-is-weak-ext">28</a> that <img src="img-math/1aca7fd697c1dfef766c8b0078994f521e051149afca65b9fc0de8515ec86247.svg" class="inline-math"> and <img src="img-math/f4fa61305d2b1bd607a9507c83a7689aac4590723e72dbe5c2bcb775bc9ccd7d.svg" class="inline-math"> is a valid choice.
<img src="img-math/a455973db032aa33c7913b08a0e71f6d4e128bbe66653e450b42db49479a671f.svg" class="inline-math"> is stable under strict lcc functors, hence by Lemmas <a href="#prop-strict-slicing">13</a> and <a href="#lem-strictification">27</a>, <img src="img-math/ab75903c8535ffad438da6c97d8b01477237f57eed0e6a841c1309d7692de887.svg" class="inline-math"> and <img src="img-math/105abd1a9ae1718353226933096ad73a742dc6a0a7d734c94d47aa705ea8ab26.svg" class="inline-math"> are natural in <img src="img-math/ca05db5a93b14d467600f8e37932e7c1e0d14d72b669646cf9029aab299b7e61.svg" class="inline-math">-coalgebra morphisms.</div>
<div class="paragraph">
As in the proof of Lemma <a href="#lem-slice-is-weak-ext">29</a>, the map in the other direction can be constructed as composite
<div class="display-math-row">
<img src="img-math/68f0c4b8eea9f98d03e37a5651a940a1f25aabcaedf3dcaaececb7f1283e7725.svg">
</div>
where <img src="img-math/42ac3471c9f0de51ea212535d0bf546830f011d168e780d82008a93a69c8a747.svg" class="inline-math"> is the canonical pullback along the variable <img src="img-math/d36bc99241e7edf2d5d3bd6a3e5ac7d414ed473b35ed6ec7ddf692c2ad3ba565.svg" class="inline-math">, and the components of the natural isomorphism <img src="img-math/292fe626c45939a8b09a0a002a4976be0da316c1c5958d0ec3dbbe01cf394bff.svg" class="inline-math"> are the unique isomorphisms relating pullback squares
<div class="display-math-row">
<img src="img-math/9b78e3fbc545ac87bee1bc8a34bb5a57ae4911d2682a144df6c93f64d2cb8b8c.svg">
</div>
All data involved in the construction are natural in <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> by Proposition <a href="#prop-strict-slicing">13</a>, hence so are <img src="img-math/d43d827928572298a20eca42bbb5c58cead7150da1a76d67e7921863fe42ea38.svg" class="inline-math"> and <img src="img-math/80cad9e8bed7931cfc71dc0ffffee73fdbbdff2de9640eadb6f812ee9c49da23.svg" class="inline-math">.</div>
<div class="paragraph">
By Remark <a href="#rem-discrete-weak-ext-mapping">26</a>, the natural isomorphisms <img src="img-math/c60373d32a1bbffe37d1efc63513dcedff1ef7498e489539beabc23ae8d48ceb.svg" class="inline-math"> and <img src="img-math/6d61f26a81a3441acda598b7671c5d3e8ddae95e9bee3019b99d7bfd20eda009.svg" class="inline-math"> over <img src="img-math/672db3f7013518449138babd63f1175e8cf06d95e58a214be09a725bbd09d09c.svg" class="inline-math"> are uniquely determined given their domain and codomain.
Their naturality in <img src="img-math/655e5fd784e2bd918b3c0bc4893bdb3d02ca66170a8da874b54e307ba62787e1.svg" class="inline-math"> and <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math"> thus follows from that of <img src="img-math/0eddf8efa2702b484354e9db10cccf34e6f2b76509a3741049451944e92ba87c.svg" class="inline-math"> and <img src="img-math/c2f546eefb9680653be57c4e324d350989b11598bfc175515385e8d8ee2ee3e3.svg" class="inline-math">.</div>
</div>
<div id="lem-substitution-vs-pullback" class="theorem-like">
<div class="paragraph">
<h4>Lemma 31.
</h4>
Let <img src="img-math/6729cf67f9f2a9b9959dd8b27ddd77edf2c90ae6ae89c147da0817b3f6178b00.svg" class="inline-math"> be an <img src="img-math/ca05db5a93b14d467600f8e37932e7c1e0d14d72b669646cf9029aab299b7e61.svg" class="inline-math">-coalgebra, let <img src="img-math/7c2f7469ee255127f1ef6feb93744759c5c0e788211cd4990759d64266f84bd5.svg" class="inline-math"> be types in context <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> and let <img src="img-math/d07e47ee859ed70e93115d7b607a23287f3d3506b23228ec01435aa3db15bc88.svg" class="inline-math"> be a term.
Let <img src="img-math/17d35722c8712fb4eaf1c1e3dd6041da2a915beaf7549ba20de3c75dd9f592b0.svg" class="inline-math"> be the morphism in <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> that corresponds to <img src="img-math/31da59226089717b0fd7e061b3dba13e20f69078642fd752d80ecaa39fa58b4d.svg" class="inline-math"> under the isomorphism
<div class="display-math-row">
<img src="img-math/e395db078c36ba4fd2bb3216e844df7bb7637b3662481b16f894fa5c5eb124d7.svg">
</div>
induced by the equivalence of Lemma <a href="#lem-extension-vs-slice">30</a> and the adjunction <img src="img-math/3e09423f3bb32ec86f4dd1d840ab02f7b26681ac8d43f4155b80c817b012a025.svg" class="inline-math">.
Then the square
<div class="display-math-row">
<img src="img-math/d26d5f2d901ee0aa4a6356a76fca163f68ab51ddfcb2f644c150e65e2654dbb1.svg">
</div>
in <img src="img-math/571699db6ee6bda8e660ef84e4972539d73e01a91878cbeb92f333f6fec980e6.svg" class="inline-math"> commutes up to a unique natural isomorphism that is compatible with <img src="img-math/ca05db5a93b14d467600f8e37932e7c1e0d14d72b669646cf9029aab299b7e61.svg" class="inline-math">-coalgebra morphisms in <img src="img-math/655e5fd784e2bd918b3c0bc4893bdb3d02ca66170a8da874b54e307ba62787e1.svg" class="inline-math">.</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
<img src="img-math/f6f31f402303c8a1dbe81049549c28b71ba92093ac8edbb08d52a76679e96619.svg" class="inline-math"> maps the diagonal of <img src="img-math/af3e0c6324df32efbf6be6dd9eddded683b889cb73f916fd9913223d28afe8d3.svg" class="inline-math"> to the diagonal of <img src="img-math/77e056b9f4f87e57b862bf59cd3ffd0f52d56ccc25d35b87c586a0f3e0d082c4.svg" class="inline-math"> up to the canonical isomorphism <img src="img-math/873eb2cce879a372533bf5c7a8dc44144d6c7c71d47d0536b7e02e729b15c5b9.svg" class="inline-math">, hence Lemma <a href="#lem-strict-ext-is-weak-ext">28</a> applies.</div>
</div>
<div id="th-lcc-supports-types" class="theorem-like">
<div class="paragraph">
<h4>Theorem 32.
</h4>
The cwf <img src="img-math/2ac8344303de787b8542657f554fbe56b768f0f1af194027b74de33c451da778.svg" class="inline-math"> is a model of dependent type theory with finite product, extensional equality, dependent product and dependent sum types.</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
<img src="img-math/2ac8344303de787b8542657f554fbe56b768f0f1af194027b74de33c451da778.svg" class="inline-math"> has an empty context and context extensions by Proposition <a href="#prop-coa-slcc-exts">24</a>.
Finite product and equality types are interpreted as in <img src="img-math/59eca86a86f8b1385bb50c9bcc730b4c45e13f222ec61de2af49df4b639d743b.svg" class="inline-math"> (see Proposition <a href="#prop-slcc-model">16</a>).</div>
<div class="paragraph">
Let <img src="img-math/e49aa41f7b570bf330c2504f3a0495ffd24da704c2bf9544f8d080a67e4ef86e.svg" class="inline-math"> and <img src="img-math/b90c52e784222ce9de2186d0aa954734da9c25452559533484bcc6ea5f6d26fb.svg" class="inline-math">.
Denote by <img src="img-math/4051953724e38a1fd9047a79d4ce433676d1e8f16cdcd0c9312eef1defdcf818.svg" class="inline-math"> the functor that is part of the equivalence established in Lemma <a href="#lem-extension-vs-slice">30</a>.
Then <img src="img-math/3f7eb7c245bca13c3b36580a6aab5bc355c7f693e2c5642ad453df5ba99a077a.svg" class="inline-math"> respectively <img src="img-math/28a150413ceaf99a8647a351ed8a45ee0329d828c8d6d1ce07a390f32632027c.svg" class="inline-math"> are defined by application of the functors
<div class="display-math-row">
<img src="img-math/031143cd4abfd9d925511f7e025790937a3d3a35bc27b6ff309853cb96036e72.svg">
</div>
to <img src="img-math/77e056b9f4f87e57b862bf59cd3ffd0f52d56ccc25d35b87c586a0f3e0d082c4.svg" class="inline-math">.</div>
<div class="paragraph">
<img src="img-math/ab75903c8535ffad438da6c97d8b01477237f57eed0e6a841c1309d7692de887.svg" class="inline-math"> being an equivalence and the adjunction <img src="img-math/bc7106179ba19b2238aa006ce807fd903fdb433cd31cb86a55e935827aee64be.svg" class="inline-math"> establish an isomorphism
<div class="display-math-row">
<img src="img-math/5dc0d1380ee7547e045083f752dc21a81fd2e53408590f584ad2a15c7df1e31a.svg">
</div>
by which we define lambda abstraction <img src="img-math/90ec08a90dbc14a0e5bde671651ef2a439999449c46da98dec2cac9018d5eeea.svg" class="inline-math"> for some term <img src="img-math/3c94dbd171b477b950be26b7edfa2fdd3dea5bbd3ee868e46c57bd2c07d55746.svg" class="inline-math"> and the inverse to <img src="img-math/27804fb02df3c4bc67cb6a8d4a6d6cc1a3889cf3f5a4c3028c15ce89fe317eaf.svg" class="inline-math"> (i.e. application of <img src="img-math/a9faeeeda012daf09c0788ac2fc8f3066a20f28174dd1d9c6c70b024361fb475.svg" class="inline-math"> to the variable <img src="img-math/ea91753584812fda16e44e250a7e5651ae04c38d4c7eac23c7e821b7e5610aaf.svg" class="inline-math"> for some term <img src="img-math/2820b8044d7c70097e95ad7d27b0a65a3bba3c3c480d3f57ab14c3ee29bcdd3f.svg" class="inline-math">).</div>
<div class="paragraph">
Now let <img src="img-math/f1cc5987e21da783d4437483cdaed7424050cc4241e9a3cff3416a9f9345659e.svg" class="inline-math"> and <img src="img-math/9a5fdef0febf0ff28289edf634bd525d0d1fc4cb57e8f308438f78841898b153.svg" class="inline-math">.
The pair term <img src="img-math/c94e1708531f47b1fb36e74d6e3f66b499bac385a7f32cb449795abbdce29a53.svg" class="inline-math"> of type <img src="img-math/3f7eb7c245bca13c3b36580a6aab5bc355c7f693e2c5642ad453df5ba99a077a.svg" class="inline-math"> is defined by the diagram
<div class="display-math-row">
<img src="img-math/35f6a250eb12ab3c3eef26422869d0cd93dd2a47883f783bb48d8275f8e8fb1c.svg">
</div>
Here the isomorphism <img src="img-math/d63784910a8730276547a8f8d779f2d19f55b58418646bed6a983f09d4f1209d.svg" class="inline-math"> is a component of the natural isomorphism <img src="img-math/1bbf7001c95fbc288c50d0c97d1fc757b42e451deeb1f38b30d4dabb5ed8de35.svg" class="inline-math"> constructed in Lemma <a href="#lem-substitution-vs-pullback">31</a>, instantiated for <img src="img-math/3ba853b1e2e14f9033e19fdb23ec256ba86470a2efda48fc95aa4a93928f3e5d.svg" class="inline-math">.
Given just <img src="img-math/1a977ef857faa326aa46333d6786385d65eb20e5ee191a170a1cc785a9a58643.svg" class="inline-math"> we recover <img src="img-math/a53cf235ab5381d4421e3a0f307e8ce3ff63f7eda9659c2392dd49bb8c38a197.svg" class="inline-math"> by composition with <img src="img-math/e13794a9bfae1ead47693b4d135ee651cad2f91df4b9c7b90c1f384b9e917224.svg" class="inline-math">, and then <img src="img-math/31da59226089717b0fd7e061b3dba13e20f69078642fd752d80ecaa39fa58b4d.svg" class="inline-math"> as composition
<div class="display-math-row">
<img src="img-math/406027d40253795371e768fd0bb9d1c3ca8f7ab4a409059db848332edb19981a.svg">
</div>
These constructions establish an isomorphism of terms <img src="img-math/a53cf235ab5381d4421e3a0f307e8ce3ff63f7eda9659c2392dd49bb8c38a197.svg" class="inline-math"> and <img src="img-math/31da59226089717b0fd7e061b3dba13e20f69078642fd752d80ecaa39fa58b4d.svg" class="inline-math"> with terms <img src="img-math/1a977ef857faa326aa46333d6786385d65eb20e5ee191a170a1cc785a9a58643.svg" class="inline-math">, so the <img src="img-math/80cad9e8bed7931cfc71dc0ffffee73fdbbdff2de9640eadb6f812ee9c49da23.svg" class="inline-math"> and <img src="img-math/945cd0e297884bdba2b2d76ba4decac4a3eda8569230aba2ad4604a25c29816c.svg" class="inline-math"> laws hold.</div>
<div class="paragraph">
The functors <img src="img-math/74d4ce34154b7eae0d9409ea4137df9f24ab459a1a858562573916e12881dab5.svg" class="inline-math"> and the involved adjunctions are preserved by <img src="img-math/ca05db5a93b14d467600f8e37932e7c1e0d14d72b669646cf9029aab299b7e61.svg" class="inline-math">-coalgebra morphisms (Proposition <a href="#prop-strict-slicing">13</a>, Lemmas <a href="#lem-extension-vs-slice">30</a> and <a href="#lem-substitution-vs-pullback">31</a> ), so our type theoretic structure is stable under substitution.</div>
</div>
<h2 id="sec-applications">
5 Cwf structure on individual lcc categories</h2>
<div class="paragraph">
In this section we show that the covariant cwf structure on <img src="img-math/2ac8344303de787b8542657f554fbe56b768f0f1af194027b74de33c451da778.svg" class="inline-math"> that we established in Theorem <a href="#th-lcc-supports-types">32</a> can be used as a coherence method to rectify Seely's interpretation in a given lcc category <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math">.</div>
<div id="lem-cats-of-weak-exts" class="theorem-like">
<div class="paragraph">
<h4>Lemma 33.
</h4>
Let <img src="img-math/6729cf67f9f2a9b9959dd8b27ddd77edf2c90ae6ae89c147da0817b3f6178b00.svg" class="inline-math"> be an <img src="img-math/ca05db5a93b14d467600f8e37932e7c1e0d14d72b669646cf9029aab299b7e61.svg" class="inline-math">-coalgebra.
Then the following categories are equivalent:
<ol>
<li id="itm-locally-discrete-gamma-op">
<div class="paragraph">
<img src="img-math/e2f60d435de01166f96d2c2b53f836a8ede5258b94074467c02635e6a17f0c05.svg" class="inline-math">;</div>
</li>
<li id="itm-slice-2-category">
<div class="paragraph">
the category of isomorphism classes of morphisms in the restriction of the higher coslice category <img src="img-math/d82d41258ac539239ef8944763d8abb2ec54f937b0b0337887740be3bac041bb.svg" class="inline-math"> to slice categories <img src="img-math/065a45b869280206a56b1380b4d36611bbda12a8fd7e4145ec9f86df2d119cd3.svg" class="inline-math">;</div>
</li>
<li id="itm-ext-2-category">
<div class="paragraph">
the category of isomorphism classes of morphisms in the restriction of the higher coslice category <img src="img-math/d82d41258ac539239ef8944763d8abb2ec54f937b0b0337887740be3bac041bb.svg" class="inline-math"> to context extensions <img src="img-math/c10e888537506cbc98aa788a2bfaf16f7a3963ab91a0f4d9709e90f2e79d9ebf.svg" class="inline-math">;</div>
</li>
<li id="itm-ext-1-category">
<div class="paragraph">
the full subcategory of the 1-categorical coslice category <img src="img-math/1db2333e29184dd1045fba7090ab0f109c91f27cc7e388ae0544ab73a938d0c9.svg" class="inline-math"> given by the context extensions <img src="img-math/656511fec19cd8631f51bdf432e9ea33dc49e66bfd5240a931a5051edeb8b1cc.svg" class="inline-math">.</div>
</li>
</ol>
</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
As noted in Remark <a href="#rem-discrete-weak-ext-mapping">26</a>, the higher categories in <a href="#itm-slice-2-category">2</a> and <a href="#itm-ext-2-category">3</a> are already locally equivalent to discrete groupoids and hence biequivalent to their categories of isomorphism classes.</div>
<div class="paragraph">
The functor from <a href="#itm-locally-discrete-gamma-op">1</a> to <a href="#itm-slice-2-category">2</a> is given by assigning to a morphism <img src="img-math/17b9d4c0b18b4b1a6a45a2145da200e548368a3711f69f2fd50a5d2c2e396d6b.svg" class="inline-math"> in <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> the isomorphism class of the pullback functor <img src="img-math/d73ecfb28f035d2d378dc4894228c0a2ef46e3abd17acdeca1340b74f5d8a42d.svg" class="inline-math">.
The isomorphism class of an lcc functor <img src="img-math/584595566a215251ddd7349d177935b2f89ebaee0462dd271bd67075cd04e46e.svg" class="inline-math"> over <img src="img-math/672db3f7013518449138babd63f1175e8cf06d95e58a214be09a725bbd09d09c.svg" class="inline-math"> is uniquely determined by the morphism
<div class="display-math-row">
<img src="img-math/3b22b82e037749441f2aaa256a548709bc83ca3457b27a93832d342d43335401.svg">
</div>
which in turn corresponds to a morphism <img src="img-math/b2bb62407551632af04bd0580bdd9e1399c5dc9a12bf08dfa678e7a32df41bdb.svg" class="inline-math">, and then <img src="img-math/ce339eaf1e6e885c1bfb3dcc31745d180b48ae3e0c9e9665f20e7e9a70f56da7.svg" class="inline-math">.</div>
<div class="paragraph">
The categories <a href="#itm-slice-2-category">2</a> and <a href="#itm-ext-2-category">3</a> are equivalent because they are both categories of weak context extensions (Lemmas <a href="#lem-strict-ext-is-weak-ext">28</a> and <a href="#lem-slice-is-weak-ext">29</a>).
Finally, the inclusion of <a href="#itm-ext-1-category">4</a> into <a href="#itm-ext-2-category">3</a> is an equivalence by the Lemma <a href="#lem-strictification">27</a>.
Note that every strict lcc functor <img src="img-math/5f1df1583f1a7cae1aa901ed8cf0c7328389466beab00dcf95059d5b79472430.svg" class="inline-math"> commuting (up to equality) with the projections <img src="img-math/ff2fb87e047f8148ba6f6f55d24db70312a6e013f10bdb7d3a319aceeb1b9d13.svg" class="inline-math"> and <img src="img-math/4fac9b5abe8a950e12787453819b8ebdef84e20159d85c6b8a07484014f3ee2e.svg" class="inline-math"> is compatible with the coalgebra structures of <img src="img-math/9a3e0830bb59da709652dbe103f87884bc7a319ac1638b3e37e948f629f448fd.svg" class="inline-math"> and <img src="img-math/4d07996d8cc47abe1c6ff4d7c6e67228485180500fa2eb722cc5c9674023efd5.svg" class="inline-math">.</div>
</div>
<div class="theorem-like">
<div class="paragraph">
<h4>Definition 34.
</h4>
Let <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> be a covariant cwf and let <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> be a context of <img src="img-math/f55ca9f083433685f92c3626a6981fd4540b0869ae997445d7c5bea257cc0738.svg" class="inline-math">.
Then the <em>coslice covariant cwf</em> <img src="img-math/2c7c2d0e60b8ffad23053d63c2686fda2c206e7e0ebd04c1d089804e9d0dd4d3.svg" class="inline-math"> has as underlying category the (1-categorical) coslice category under <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math">, and its types and terms are given by the composite functor <img src="img-math/5280127267782b104da38544357f0c4d34c3ffe388ba98be0fd1637d1c47a583.svg" class="inline-math">.</div>
</div>
<div id="lem-coslice-cwf" class="theorem-like">
<div class="paragraph">
<h4>Lemma 35.
</h4>
Let <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> be a covariant cwf and let <img src="img-math/e774d7edda0c811056e6a72dad9924924007c0de43f9fd394102b68ac84891c5.svg" class="inline-math"> be a context of <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math">.
Then the coslice covariant cwf <img src="img-math/2c7c2d0e60b8ffad23053d63c2686fda2c206e7e0ebd04c1d089804e9d0dd4d3.svg" class="inline-math"> has an initial context.
If <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> has context extensions, then <img src="img-math/2c7c2d0e60b8ffad23053d63c2686fda2c206e7e0ebd04c1d089804e9d0dd4d3.svg" class="inline-math"> has context extensions, and they are preserved by <img src="img-math/90791c2e23ea2b02f385fe59ce0c8d6fabe763dc06fb99f15ef4a9fa74f8c323.svg" class="inline-math">.
If <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> supports any of finite product, extensional equality, dependent product or dependent sum types, then so does <img src="img-math/2c7c2d0e60b8ffad23053d63c2686fda2c206e7e0ebd04c1d089804e9d0dd4d3.svg" class="inline-math">, and they are preserved by <img src="img-math/90791c2e23ea2b02f385fe59ce0c8d6fabe763dc06fb99f15ef4a9fa74f8c323.svg" class="inline-math">
</div>
</div>
<div class="theorem-like">
<div class="paragraph">
<h4>Definition 36.
</h4>
Let <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> be a covariant cwf with an empty context and context extensions.
The <em>core</em> of <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> is a covariant cwf on the least full subcategory <img src="img-math/5f2e24735150026cab6572024c3548d092284f30e44cb5cc488ae816928ae58d.svg" class="inline-math"> that contains the empty context and is closed under context extensions, with types and terms given by <img src="img-math/d9acfa0a1ef81903b9fdbe1034065d239be7236b1ddce4db5b12bd9651cf1a0c.svg" class="inline-math">.</div>
</div>
<div id="lem-core-cwf" class="theorem-like">
<div class="paragraph">
<h4>Lemma 37.
</h4>
Let <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> be a covariant cwf with an empty context and context extension.
If <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> supports any of finite product types, extensional equality types, dependent product or dependent sums, then so does <img src="img-math/a5dcc6ee346bd67b92dc497662dc8265b9bc62f18e49f86a36bace4c8e9230ce.svg" class="inline-math">, and they are preserved by the inclusion <img src="img-math/b3a15a2f089a21705370ef5a9a6b2e3d62c8ff173b00939248832d75f3758f86.svg" class="inline-math">.</div>
<div class="paragraph">
If <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> supports unit and dependent sum types, then <img src="img-math/a5dcc6ee346bd67b92dc497662dc8265b9bc62f18e49f86a36bace4c8e9230ce.svg" class="inline-math"> is democratic, i.e. every context is isomorphic to a context obtained from the empty context by a single context extension [<a href="#biequivalence-lcc-cwf">8</a>].
</div>
</div>
<div id="th-context-as-model" class="theorem-like">
<div class="paragraph">
<h4>Theorem 38.
</h4>
Let <img src="img-math/6729cf67f9f2a9b9959dd8b27ddd77edf2c90ae6ae89c147da0817b3f6178b00.svg" class="inline-math"> be an <img src="img-math/ca05db5a93b14d467600f8e37932e7c1e0d14d72b669646cf9029aab299b7e61.svg" class="inline-math">-coalgebra.
Then the underlying category of <img src="img-math/91ead0b8c1419c6821ccf1fc0c3ad38b407245b7817f077b6241af90f9d5b706.svg" class="inline-math"> is equivalent to <img src="img-math/5873f0549307d368f0b5676fb105cfd3484ff684fc5b7f403af2184f75783cdd.svg" class="inline-math">.
In particular, every lcc category is equivalent to a cwf that has an empty context and context extensions, and that supports finite product, extensional equality, dependent sum and dependent product types.</div>
</div>
<div class="proof">
<div class="paragraph">
<i class="proof">Proof.</i>
<img src="img-math/91ead0b8c1419c6821ccf1fc0c3ad38b407245b7817f077b6241af90f9d5b706.svg" class="inline-math"> is a covariant cwf supporting all relevant type constructors by Lemmas <a href="#lem-coslice-cwf">35</a> and <a href="#lem-core-cwf">37</a>.
It is democratic and hence equivalent to category <a href="#itm-ext-1-category">4</a> of lemma <a href="#lem-cats-of-weak-exts">33</a>.</div>
<div class="paragraph">
Given an arbitrary lcc category <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math">, we set <img src="img-math/1c269afff78f540758186ec2fc2f2eb38df8454822760629a2c1d15fdc0b126b.svg" class="inline-math"> and define coalgebra structure by <img src="img-math/a0ed38bee4340224b555dae3912aa758801e994d8363582e555719bdfe47073b.svg" class="inline-math">.
Then <img src="img-math/672db3f7013518449138babd63f1175e8cf06d95e58a214be09a725bbd09d09c.svg" class="inline-math"> is equivalent to both <img src="img-math/21516ca6737b358b9a96985e0e961f3ab59d393a1a8628145f3462d6867aa9a0.svg" class="inline-math"> and a cwf supporting the relevant type constructors.</div>
</div>
<h2>
6 Conclusion</h2>
<div class="paragraph">
We have shown that the category of lcc categories is a model of extensional dependent type theory.
Previously only individual lcc categories were considered as targets of interpretations.
As in these previous interpretations, we have had to deal with the issue of coherence:
Lcc functors (and pullback functors in particular) preserve lcc structure only up to isomorphism, whereas substitution in type theory commutes with type and term formers up to equality.</div>
<div class="paragraph">
Our novel solution to the coherence problem relies on working globally, on all lcc categories at once.
In contrast to some individual lcc categories, the higher category of all lcc categories is locally presentable.
This allows the use of model category theory to construct a presentation of this higher category in terms of a 1-category that admits an interpretation of type theory.</div>
<div class="paragraph">
While we have only studied an interpretation of a type theory with dependent sum and dependent product, extensional equality and finite product types, it is straightforward to adapt the techniques of this paper to type theories with other type constructors.
For example, a dependent type theory with a type of natural numbers can be interpreted in the category of lcc categories with objects of natural numbers.
Alternatively, we can add finite coproduct, quotient and list types but omit dependent products, and obtain an interpretation in the category of arithmetic universes [<a href="#au-as-list-arithmetic-pretopos">17</a>, <a href="#au-sketches">21</a>].</div>
<div class="paragraph">
I would expect there to be a general theorem by which one can obtain a type theory and its interpretation in the category of algebras for every (higher) monad <img src="img-math/eb3580bba97c413bee50d25d9aa13ceb6d03621b92172f2d1d5483d84eb2a843.svg" class="inline-math"> on <img src="img-math/b5e631e2fb35721b83388080c16d0f4e8d5cb54148949aad218de1a98d42980c.svg" class="inline-math"> (with the algebras of <img src="img-math/eb3580bba97c413bee50d25d9aa13ceb6d03621b92172f2d1d5483d84eb2a843.svg" class="inline-math"> perhaps subject to being finitely complete and stable under slicing).
Such a theorem, however, is beyond the scope of the present paper.</div>
<h2>Bibliography</h2>
<ol class="bibliography">
<li id="basic-concepts-of-enriched-category-theory">
 Basic concepts of enriched category theory. London Mathematical Society Lecture Note Series, 64, 1982.</li>
<li id="marked-objects">
 Model category of marked objects. 2016.</li>
<li id="enriched-model-cats">
 Enriched model categories and presheaf categories. New York J. of Mathematics, 26:37–91, 2020.</li>
<li id="groupoid-model-cat">
 D. W. Anderson. Fibrations and geometric realizations. Bulletin of the American Mathematical Society, 84(5):765–788, 1978.</li>
<li id="two-dimensional-monad-theory">
 Robert Blackwell, Gregory Maxwell Kelly and A. John Power. Two-dimensional monad theory. Journal of pure and applied algebra, 59(1):1–41, 1989.</li>
<li id="equipping-weak-equivalences">
 John Bourke. Equipping weak equivalences with algebraic structure. Mathematische Zeitschrift, 2019.</li>
<li id="coalgebraic-models">
 Michael Ching and Emily Riehl. Coalgebraic models for combinatorial model categories. Homology, Homotopy and Applications, 16(2):171–184, 2014.</li>
<li id="biequivalence-lcc-cwf">
 Pierre Clairambault and Peter Dybjer. The biequivalence of locally cartesian closed categories and Martin-Löf type theories. International Conference on Typed Lambda Calculi and Applications, pages 91–106, 2011.</li>
<li id="substitution-up-to-isomorphism">
 Pierre-Louis Curien. Substitution up to Isomorphism. Diagrammes, 23:43–66, 1990.</li>
<li id="enriched-kan-extensions">
 Eduardo J. Dubuc. Kan extensions in enriched category theory. 1970.</li>
<li id="internal-type-theory">
 Peter Dybjer. Internal type theory. International Workshop on Types for Proofs and Programs, pages 120–134, 1995.</li>
<li id="hirschhorn">
 Philip S. Hirschhorn. Model categories and their localizations. 2003.</li>
<li id="on-the-interpretation-of-type-theory-in-lcc-categories">
 Martin Hofmann. On the interpretation of type theory in locally cartesian closed categories. International Workshop on Computer Science Logic, pages 427–441, 1994.</li>
<li id="homotopy-theoretic-aspects">
 Stephen Lack. Homotopy-theoretic aspects of 2-monads. Journal of Homotopy and Related Structures, 2(2):229–260, 2007.</li>
<li id="the-local-universes-model">
 Peter LeFanu Lumsdaine and Michael A Warren. The local universes model: an overlooked coherence construction for dependent type theories. ACM Transactions on Computational Logic (TOCL), 16(3):1–31, 2015.</li>
<li id="higher-topos-theory">
 Jacob Lurie. Higher topos theory. 2009.</li>
<li id="au-as-list-arithmetic-pretopos">
 Maria Emilia Maietti. Joyal's arithmetic universe as list-arithmetic pretopos. Theory \& Applications of Categories, 24:39–83, 2010.</li>
<li id="algebraic-models">
 Thomas Nikolaus. Algebraic models for higher categories. Indagationes Mathematicae, 21(1-2):52–75, 2011.</li>
<li id="lcc-categories-and-type-theory">
 Robert A. G. Seely. Locally cartesian closed categories and type theory. Mathematical proceedings of the Cambridge philosophical society, 95(1):33–48, 1984.</li>
<li id="locales-and-toposes-as-spaces">
 Steven Vickers. Locales and toposes as spaces. Handbook of spatial logics, pages 429–496, 2007.</li>
<li id="au-sketches">
 Steven Vickers. Sketches for arithmetic universes. Journal of Logic and Analysis, 2016.</li>
</ol>
</body>
</html>
